<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('http://yoursite.com').hostname,
    root: '/',
    scheme: 'Gemini',
    version: '7.7.0',
    exturl: false,
    sidebar: {"position":"left","width":250,"display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":true,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":true,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":15},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta property="og:type" content="website">
<meta property="og:title" content="MaxSoft">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="MaxSoft">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="maxsoft">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false
  };
</script>

  <title>MaxSoft</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">MaxSoft</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">「路漫漫其修远兮，吾将上下而求索」</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/06/23/JavaScript%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%8610/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/apple-touch-icon-next.png">
      <meta itemprop="name" content="maxsoft">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MaxSoft">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2015/06/23/JavaScript%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%8610/" class="post-title-link" itemprop="url">JavaScript基础知识整理<十>-笔记</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表时间</span>

              <time title="创建时间：2015-06-23 21:01:11" itemprop="dateCreated datePublished" datetime="2015-06-23T21:01:11+08:00">2015-06-23</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>
            </span>

          
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>3.7k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>3 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;今天主要学习总结关于 JavaScript 语言的面向对象的基础知识。在 ECMAScript 中，对象由特性（attribute）构成，特性可以是原始值，也可以是引用值。如果特性存放的是函数，它将被看作对象的方法（method），否则该特性被看作对象的属性（property）。<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;由于 ECMAScript 并没有正式的类。所以，ECMA-262 把对象定义描述为对象的配方。这是 ECMAScript 逻辑上的一种折中方案，因为对象定义实际上是对象自身。即使类并不真正存在，我们也把对象定义叫做类，因为大多数开发者对此术语更熟悉，而且从功能上说，两者是等价的。</p>
<h2 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h2><p><font color=red>对象</font>：ECMAScript 把对象（object）定义为“属性的无序集合，每个属性存放一个原始值、对象或函数”。<br/><font color=red>类</font>：每个对象都由类定义，可以把类看做对象的配方。类不仅要定义对象的接口，还要定义对象的内部工作。<br/><font color=red>实例</font>：程序使用类创建对象时，生成的对象叫作类的实例（instance）。对类生成的对象的个数的唯一限制来自于运行代码的机器的物理内存。每个实例的行为相同，但实例处理一组独立的数据。由类创建对象实例的过程叫做实例化（instantiation）。<br>面相对象的特点：<br>封装 - 可以把相关的信息（无论数据或方法）存储在对象中<br>继承 - 由另一个类（或多个类）得来类的属性和方法<br>多态 - 可以编写能以多种方法运行的函数或方法<br>聚集 - 可以把一个对象存储在另一个对象内</p>
<h3 id="对象属性或方法的绑定"><a href="#对象属性或方法的绑定" class="headerlink" title="对象属性或方法的绑定"></a>对象属性或方法的绑定</h3><p><font color=red>绑定（binding）</font>指把对象的接口与对象实例结合在一起的方法。<br/><font color=red>早绑定（early binding）</font>是指在实例化对象之前定义它的属性和方法，这样编译器或解释程序就能够提前转换机器代码。在 Java 和 Visual Basic 这样的语言中，有了早绑定，就可以在开发环境中使用 IntelliSense（即给开发者提供对象中属性和方法列表的功能）。ECMAScript 不是强类型语言，所以不支持早绑定。<br/><font color=red>晚绑定（late binding）</font>指的是编译器或解释程序在运行前，不知道对象的类型。使用晚绑定，无需检查对象的类型，只需检查对象是否支持属性和方法即可。<br>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> student = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">student.name=<span class="string">"MaxSoft"</span>;</span><br><span class="line">student.age=<span class="number">20</span>;</span><br><span class="line">student.sex=<span class="string">'男'</span>;</span><br><span class="line">student.height=<span class="number">168</span>;</span><br><span class="line">student.study = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">"study"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><font color=red><b>注意</b></font>：ECMAScript 中的所有变量都采用晚绑定方法。</p>
<h3 id="对象回收"><a href="#对象回收" class="headerlink" title="对象回收"></a>对象回收</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ECMAScript 语言也拥有类似 Java 语言的垃圾回收机制，在我们编写程序代码可以不用手动回收无效的对象。当然，便于我们的程序的可维护性以及养成良好的编码习惯，建议在该释放销毁的时候尽量手动处理；<br>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> employeer = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">employeer.id=<span class="string">"52028"</span>;</span><br><span class="line">employeer.name=<span class="string">"MaxSoft"</span>;</span><br><span class="line">employeer.mainjob=<span class="string">"Java programming "</span>;</span><br><span class="line">employeer.otherjob=<span class="string">"javascript"</span>;</span><br><span class="line"><span class="comment">//移除 otherjob</span></span><br><span class="line"><span class="keyword">delete</span> employeer.otherjob;</span><br><span class="line"><span class="built_in">console</span>.log(employeer.otherjob)</span><br><span class="line"><span class="comment">//销毁对象</span></span><br><span class="line">employeer = <span class="literal">null</span>;</span><br><span class="line"><span class="built_in">console</span>.log(employeer.id);</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<img src='/uploads/object_001.png'/>在上述示例中我们通过 delete 运算符移除了属性otherjob，后面我们对 employeer 进行了销毁处理；</p>
<h2 id="对象类型"><a href="#对象类型" class="headerlink" title="对象类型"></a>对象类型</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在 ECMAScript 中，可以创建并使用的对象有三种：本地对象、内置对象和宿主对象。<br><font color=red><b>本地对象</b></font>：指独立于宿主环境的 ECMAScript 实现提供的对象；主要包括：Object, Function, Array, String, Boolean, Number, Date, RegExp, Error, EvalError, RangeError, ReferenceError, SyntaxError, TypeError, URIError；<br/><font color=red><b>内置对象</b></font>：指由 ECMAScript 实现提供的、独立于宿主环境的所有对象，在 ECMAScript 程序开始执行时出现。ECMA-262 只定义了两个内置对象，即 Global 和 Math （它们也是本地对象，根据定义，每个内置对象都是本地对象）。<br/><font color=red><b>宿主对象</b></font>：所有非本地对象都是宿主对象（host object），即由 ECMAScript 实现的宿主环境提供的对象。所有 BOM 和 DOM 对象都是宿主对象。</p>
<h2 id="对象作用域"><a href="#对象作用域" class="headerlink" title="对象作用域"></a>对象作用域</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color=red><b>作用域</b></font>：指的是变量的适用范围。<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在ECMAScript 中只存在一种作用域 - 公用作用域。ECMAScript 中的所有对象的所有属性和方法都是公用的。由于我们开发人员的习惯有以下几种方法来进行对私有变量和公有变量进行了区分的公约：<br>&nbsp;&nbsp;● 对象属性前后加下划线标识私有属性<br>&nbsp;&nbsp;● 对象属性前加下划线标识私有属性<br>&nbsp;&nbsp;● 对象属性前加私有变量标识，例如：”obj.private_id”等<br>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">obj._name_ = <span class="string">"maxsoft"</span>;</span><br><span class="line">obj._age = <span class="string">"24"</span>;</span><br><span class="line">obj.private_sex = <span class="string">"男"</span>;</span><br><span class="line">obj.getName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">this</span>._name_;</span><br><span class="line">&#125;</span><br><span class="line">obj.getAge = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">this</span>._age;</span><br><span class="line">&#125;</span><br><span class="line">obj.getSex = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">this</span>.private_sex;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"姓名："</span>+obj.getName());</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"年龄："</span>+obj.getAge());</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"性别："</span>+obj.getSex());</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<img src="/uploads/object_002.png">在上述示例我们用到了 this 关键字，该关键词主要表示当前执行的方法所属的对象；那么在我们的示例中的 this 就是指 obj 对象。<br><font color=red><b>注意</b></font>： this 关键字在 ECMAScript 语言中是相对比较重要的知识点。</p>
<h2 id="创建及修改对象"><a href="#创建及修改对象" class="headerlink" title="创建及修改对象"></a>创建及修改对象</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;使用预定义对象只是面向对象语言的能力的一部分，它真正强大之处在于能够创建自己专用的类和对象。在 ECMAScript 语言中，不仅可以创建对象，还可以修改已有对象的行为，这主要得益于对象的 prototype 属性。通过 prototype 属性不仅可以定义构造函数的属性和方法，还可以为本地对象添加属性和方法。示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>.prototype.toHex = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="string">"0x"</span> + <span class="keyword">this</span>.toString(<span class="number">16</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Number</span>.prototype.toOct = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="string">"0"</span> + <span class="keyword">this</span>.toString(<span class="number">8</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> num = <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">17</span>);</span><br><span class="line"><span class="built_in">console</span>.log(num.toHex());</span><br><span class="line"><span class="built_in">console</span>.log(num.toOct());</span><br><span class="line"><span class="built_in">Number</span>.prototype.toLocalString=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="string">"I am override method;"</span> + <span class="keyword">this</span>.toString();</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(num.toString());</span><br><span class="line"><span class="built_in">console</span>.log(num.toLocalString());</span><br></pre></td></tr></table></figure>
<p>运行结果如下图：<img src='/uploads/modify_obj.png' />上述示例中我们通过对象的 prototype 属性进行对象的一系列的属性修改新增等操作。</p>
<h2 id="结束语"><a href="#结束语" class="headerlink" title="结束语"></a>结束语</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;到此，JavaScript 语言的核心基础知识也算是学习了一遍，补缺了在大学时期没有进行学习的遗漏。同时，也加深了一些基础知识的认知。但是相对于目前工作中使用的 JavaScript 语言的高级用法，这确实只是一点基础！后续的工作中会继续总结使用到的高级用法以及其他的知识点（浏览器对象模型( BOM )、文档对象模型( DOM )）。</p>
<p>参阅 <a href="http://www.w3school.com.cn/js/pro_js_implement.asp" target="_blank" rel="noopener">W3C School</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/06/21/JavaScript%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%869/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/apple-touch-icon-next.png">
      <meta itemprop="name" content="maxsoft">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MaxSoft">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2015/06/21/JavaScript%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%869/" class="post-title-link" itemprop="url">JavaScript基础知识整理<九>-笔记</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表时间</span>

              <time title="创建时间：2015-06-21 19:41:13" itemprop="dateCreated datePublished" datetime="2015-06-21T19:41:13+08:00">2015-06-21</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>
            </span>

          
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.2k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>2 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;前面几个章节系统的学习了 JavaScript 语言的核心基础。即（ ECMAScript 语法，变量，运算符以及语法结构等基础知识），今天主要来学习总结关于 JavaScript 函数相关的基础知识，也是对前面学习的内容进行系统的运用；</p>
<h2 id="函数概述"><a href="#函数概述" class="headerlink" title="函数概述"></a>函数概述</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;函数就是一组有意义的运算符按照一定的逻辑进行组合而成并且是可以随时随地运行的语句。函数也是 ECMAScript 语言的核心。</p>
<h3 id="语法结构"><a href="#语法结构" class="headerlink" title="语法结构"></a>语法结构</h3><p>函数的基本语法结构如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">functionName</span>(<span class="params">arg0, arg1, ... argN</span>) </span>&#123;</span><br><span class="line">  statements</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><font color=red><b>注释</b></font>：其中 functionName 为函数的名称，arg0,arg1, … argN 为函数的参数，statements 为函数体即函数代码块；</p>
<p>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">say</span>(<span class="params">name,msg</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> msg + <span class="string">"I am "</span> + name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> result = say(<span class="string">"MaxSoft"</span>,<span class="string">"Hello World, "</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<img src='/uploads/function_0.png'>从上面的示例中我们可以看到，即使函数有值，也不用明确地声明它。我们只需要使用 return 运算符将该要当做函数的值返回即可。<br><font color=red><b>注意</b></font>：如果函数无明确的返回值，或调用了没有参数的 return 语句，那么它真正返回的值是 undefined。</p>
<h2 id="参数对象"><a href="#参数对象" class="headerlink" title="参数对象"></a>参数对象</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在 ECMAScript 函数代码中，使用特殊对象 arguments，我们无需明确指出参数名，就能访问它们。同时，我们也可以通过 arguments 对象检测函数的参数个数，即使用 arguments.length 属性就可以方便的获取函数参数个数。由此，我们也可以创造性的使用 arguments.length 属性来模拟 Java 语言中的重载函数。<br>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">say</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">var</span> len = <span class="built_in">arguments</span>.length;</span><br><span class="line">	<span class="keyword">if</span>(len == <span class="number">1</span>)&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">"Hello, "</span> + <span class="built_in">arguments</span>[<span class="number">0</span>]);</span><br><span class="line">	&#125;<span class="keyword">else</span> <span class="keyword">if</span>(len == <span class="number">2</span>)&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="built_in">arguments</span>[<span class="number">1</span>] + <span class="string">", I am "</span> + <span class="built_in">arguments</span>[<span class="number">0</span>]);</span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">"Welcome "</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">say(<span class="string">"MaxSoft"</span>);</span><br><span class="line">say(<span class="string">"MaxSoft"</span>,<span class="string">"Hello world"</span>);</span><br><span class="line">say();</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<img src='/uploads/function_1.png'><br><font color=red><b>注意</b></font>：与其他程序设计语言不同，ECMAScript 不会验证传递给函数的参数个数是否等于函数定义的参数个数。我们定义的函数都可以接受任意个数的参数。任何遗漏的参数都会以 undefined 传递给函数，多余的参数函数将忽略。</p>
<h2 id="Function-对象"><a href="#Function-对象" class="headerlink" title="Function 对象"></a>Function 对象</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在 ECMAScript 语言中的函数实际上是功能完整的对象。Function 类可以表示我们定义的任何函数。<br>语法结构如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> function_name = <span class="keyword">new</span> <span class="function"><span class="keyword">function</span>(<span class="params">arg1, arg2, ..., argN, function_body</span>)</span></span><br></pre></td></tr></table></figure>
<p>其中 function_name 为函数的名称，arg1, arg2, …, argN都是函数的参数，function_body为函数体即要执行的代码（全部都是字符串）。<br>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> say = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">'name'</span>,<span class="string">'msg'</span>,<span class="string">"console.log(name + ' ' + msg)"</span>);</span><br><span class="line">say(<span class="string">'MaxSoft'</span>,<span class="string">'Hi '</span>);</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<img src='/uploads/function_2.png'></p>
<h2 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;闭包指函数可以使用函数之外定义的变量。例如在 ECMAScript 中使用全局变量是一个简单的闭包实例，示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">"MaxSoft"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">show</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">var</span> age = <span class="number">24</span>;</span><br><span class="line">	<span class="built_in">console</span>.log(name + <span class="string">":"</span>  + age);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">person</span>(<span class="params">flag</span>)</span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">say</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(flag)&#123;</span><br><span class="line">			<span class="keyword">return</span><span class="string">"Hello "</span> + name;</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="string">"Hello world "</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> say();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上述示例中第二个函数 person() 包括函数 say() （闭包）。内部函数是一个闭包，因为它将获取外部函数的参数 flag 以及全局变量 name 的值。 person() 的最后一步调用了 say()并作为其返回值。<br>这里要掌握的重要概念是，say() 函数根本不接受参数，它使用的值是从执行环境中获取的。<br>由此可以看到，闭包是 ECMAScript 中相对比较高级的部分，可用于执行复杂的计算，当然使用不当也会出现不必要的麻烦。例如，内存溢出，性能问题等。</p>
<p>参阅 <a href="http://www.w3school.com.cn/js/pro_js_implement.asp" target="_blank" rel="noopener">W3C School</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/06/19/JavaScript%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%868/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/apple-touch-icon-next.png">
      <meta itemprop="name" content="maxsoft">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MaxSoft">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2015/06/19/JavaScript%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%868/" class="post-title-link" itemprop="url">JavaScript基础知识整理<八>-笔记</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表时间</span>

              <time title="创建时间：2015-06-19 20:44:10" itemprop="dateCreated datePublished" datetime="2015-06-19T20:44:10+08:00">2015-06-19</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>
            </span>

          
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>4.2k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>4 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;今天主要来学习总结一下关于 ECMAScript  语言中的相关语句，主要包括if语句，迭代语句( while, do while, for, for-in)， 标签语句( label, state )，中断语句(break, continue)，with语句，switch语句；</p>
<h2 id="if-语句"><a href="#if-语句" class="headerlink" title="if 语句"></a>if 语句</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if 语句在 ECMAScript 中和在其他编程语言中一样，也是相对比较常用的语句之一，其语法如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (condition) statement1 <span class="keyword">else</span> statement2</span><br><span class="line">或</span><br><span class="line"><span class="keyword">if</span> (condition1) statement1 <span class="keyword">else</span> <span class="keyword">if</span> (condition2) statement2 <span class="keyword">else</span> statement3</span><br></pre></td></tr></table></figure>
<p>其中 condition 可以是任何表达式，计算的结果甚至不必是真正的 boolean 值，ECMAScript 会把它转换成 boolean 值。如果条件计算结果为 true，则执行 statement1；如果条件计算结果为 false，则执行 statement2。<br>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">say_hello</span>(<span class="params">flag</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(flag)&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">"Hello MaxSoft ...... "</span>);</span><br><span class="line">	&#125;<span class="keyword">else</span> <span class="keyword">if</span>(flag == <span class="string">"MaxSoft"</span>)&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">"Hello ...... "</span>);</span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">" exception ...... "</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="迭代语句"><a href="#迭代语句" class="headerlink" title="迭代语句"></a>迭代语句</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;迭代语句又叫循环语句，声明一组要反复执行的命令，直到满足某些条件为止。在 ECMAScript 中提供了四种迭代语句 ( while, do while, for, for-in ) 。</p>
<h3 id="do-while-语句"><a href="#do-while-语句" class="headerlink" title=" do-while 语句 "></a><font color=red> do-while 语句 </font></h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;do-while 语句是后测试循环，即退出条件在执行循环内部的代码之后计算。这意味着在计算表达式之前，至少会执行循环主体一次。语法结构如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span> &#123;statement&#125; <span class="keyword">while</span> (expression);</span><br></pre></td></tr></table></figure>
<p>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">iteration</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">"开始报数......"</span>);</span><br><span class="line">	<span class="keyword">do</span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(i++);</span><br><span class="line">	&#125;<span class="keyword">while</span>(i &lt; <span class="number">10</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="while-语句"><a href="#while-语句" class="headerlink" title=" while 语句 "></a><font color=red> while 语句 </font></h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while 语句是前测试循环。这意味着退出条件是在执行循环内部的代码之前计算的。因此，循环主体可能根本不被执行。语法结构如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (expression) statement</span><br></pre></td></tr></table></figure>
<p>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">iteration</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">"开始报数......"</span>);</span><br><span class="line">	<span class="keyword">while</span>(i &lt; <span class="number">10</span>)&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(i++);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="for-语句"><a href="#for-语句" class="headerlink" title=" for 语句 "></a><font color=red> for 语句 </font></h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for 语句是前测试循环，而且在进入循环之前，能够初始化变量，并定义循环后要执行的代码。语法结构如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (initialization; expression; post-loop-expression) statement</span><br></pre></td></tr></table></figure>
<p>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">iteration</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">"开始报数......"</span>);</span><br><span class="line">	<span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;<span class="number">10</span>; i++)&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(i);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="for-in-语句"><a href="#for-in-语句" class="headerlink" title=" for-in 语句 "></a><font color=red> for-in 语句 </font></h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for-in 语句是严格的迭代语句，用于枚举对象的属性。其中 Object 对象的 PropertyIsEnumerable() 是 ECMAScript 中专门用于说明属性是否可以用 for-in 语句访问的方法。语法结构如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (property <span class="keyword">in</span> expression) statement</span><br></pre></td></tr></table></figure>
<p>示例代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">iteration</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line">	obj.name=<span class="string">"MaxSoft"</span>;</span><br><span class="line">	obj.sex=<span class="number">1</span>;</span><br><span class="line">	obj.height=<span class="number">168</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">var</span> o <span class="keyword">in</span> obj)&#123;</span><br><span class="line">		<span class="keyword">if</span>(obj.propertyIsEnumerable(<span class="string">'height'</span>) &amp;&amp; o==<span class="string">'height'</span>)&#123;</span><br><span class="line">			<span class="built_in">console</span>.log(<span class="string">"身高："</span> + obj[o]);</span><br><span class="line">		&#125;<span class="keyword">else</span> <span class="keyword">if</span>(obj.propertyIsEnumerable(<span class="string">'weight'</span>))&#123;</span><br><span class="line">			<span class="built_in">console</span>.log(<span class="string">"体重："</span> + obj[o]);</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			<span class="built_in">console</span>.log(obj[o]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行结果如下：<img src='/uploads/for_in.png'></p>
<h2 id="中断、标签语句"><a href="#中断、标签语句" class="headerlink" title=" 中断、标签语句 "></a><font color=red> 中断、标签语句 </font></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break 语句可以立即退出循环，阻止再次反复执行任何代码。 continue 语句只是退出当前循环，根据控制表达式还允许继续进行下一次循环。break 语句和 continue 语句都可以与有标签的语句联合使用，返回代码中的特定位置。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">iteration</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">var</span> num = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">"开始报数......"</span>);</span><br><span class="line">	flag:</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;<span class="number">10</span>; i++) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">var</span> j=<span class="number">0</span>; j&lt;<span class="number">10</span>; j++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (i == <span class="number">5</span> &amp;&amp; j == <span class="number">5</span>) &#123;</span><br><span class="line">				<span class="keyword">break</span> flag;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="built_in">console</span>.log(num++);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">iteration_1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">var</span> num = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">"开始报数......"</span>);</span><br><span class="line">	flag:</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;<span class="number">10</span>; i++) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">var</span> j=<span class="number">0</span>; j&lt;<span class="number">10</span>; j++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (i == <span class="number">5</span> &amp;&amp; j == <span class="number">5</span>) &#123;</span><br><span class="line">				<span class="keyword">continue</span> flag;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="built_in">console</span>.log(num++);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><font color=red><b>注意</b></font>：可以看出，与 break 和 continue 联合使用的有标签语句非常强大，不过过度使用它们会给调试代码带来麻烦。要确保使用的标签具有说明性，同时不要嵌套太多层循环。</p>
<h2 id="with-语句"><a href="#with-语句" class="headerlink" title=" with 语句 "></a><font color=red> with 语句 </font></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with 语句用于设置代码在特定对象中的作用域。<br>语法结构如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> (expression) statement</span><br></pre></td></tr></table></figure>
<p>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line">obj.name=<span class="string">"MaxSoft"</span>;</span><br><span class="line">obj.age=<span class="number">24</span>;</span><br><span class="line">obj.sex=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">with</span>(obj)&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(name);</span><br><span class="line">	<span class="built_in">console</span>.log(age);</span><br><span class="line">	<span class="built_in">console</span>.log(sex);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(name);</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<img src='/uploads/with_1.png'>通过上述代码发现，我们使用了with语句关联了 obj 对象，这就意味着在with代码块内部，每个变量首先被认为是一个局部变量，如果局部变量与 obj 对象的某个属性同名，则这个局部变量会指向 obj 对象的属性。<br><font color=red><b>注意</b></font>：由于 with 语句语义相对不太明确，性能较低，并且调试也相对比较困难，所以在浏览器的严格模式下是不可以使用该语句。</p>
<h2 id="switch-语句"><a href="#switch-语句" class="headerlink" title=" switch 语句 "></a><font color=red> switch 语句 </font></h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ECMAScript 和 Java 中的 switch 语句有两点不同。在 ECMAScript 中，switch 语句可以用于字符串，而且能用不是常量的值来运算。<br>语法结构如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> (expression)</span><br><span class="line">  <span class="keyword">case</span> value: statement;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> value: statement;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> value: statement;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> value: statement;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">...</span><br><span class="line">  <span class="keyword">case</span> value: statement;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">default</span>: statement;</span><br></pre></td></tr></table></figure>
<p><font color=red><b>说明</b></font>：关键字 break 会使代码跳出 switch 语句。如果没有关键字 break，代码执行就会继续进入下一个 case。关键字 default 说明了表达式的结果不等于任何一种情况时的操作。<br>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">showInfos</span>(<span class="params">color</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">var</span> BLUE = <span class="string">"blue"</span>, RED = <span class="string">"red"</span>, GREEN  = <span class="string">"green"</span>;</span><br><span class="line">	<span class="keyword">switch</span> (color) &#123;</span><br><span class="line">	  <span class="keyword">case</span> BLUE: <span class="built_in">console</span>.log(BLUE);</span><br><span class="line">	    <span class="keyword">break</span>;</span><br><span class="line">	  <span class="keyword">case</span> RED: <span class="built_in">console</span>.log(RED);</span><br><span class="line">	    <span class="keyword">break</span>;</span><br><span class="line">	  <span class="keyword">case</span> GREEN: <span class="built_in">console</span>.log(GREEN);</span><br><span class="line">	    <span class="keyword">break</span>;</span><br><span class="line">	  <span class="keyword">default</span>: <span class="built_in">console</span>.log(<span class="string">"Other"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">showInfos_1</span>(<span class="params">index</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">switch</span> (index) &#123;</span><br><span class="line">	  <span class="keyword">case</span> <span class="number">20</span>: <span class="built_in">console</span>.log(<span class="string">"20"</span>);</span><br><span class="line">	    <span class="keyword">break</span>;</span><br><span class="line">	  <span class="keyword">case</span> <span class="number">30</span>: <span class="built_in">console</span>.log(<span class="string">"30"</span>);</span><br><span class="line">	    <span class="keyword">break</span>;</span><br><span class="line">	  <span class="keyword">case</span> <span class="number">40</span>: <span class="built_in">console</span>.log(<span class="string">"40"</span>);</span><br><span class="line">	    <span class="keyword">break</span>;</span><br><span class="line">	  <span class="keyword">default</span>: <span class="built_in">console</span>.log(<span class="string">"other"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>参阅 <a href="http://www.w3school.com.cn/js/pro_js_implement.asp" target="_blank" rel="noopener">W3C School</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/06/17/JavaScript%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%867%E4%B8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/apple-touch-icon-next.png">
      <meta itemprop="name" content="maxsoft">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MaxSoft">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2015/06/17/JavaScript%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%867%E4%B8%8B/" class="post-title-link" itemprop="url">JavaScript基础知识整理<七>-下-笔记</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表时间</span>

              <time title="创建时间：2015-06-17 20:14:20" itemprop="dateCreated datePublished" datetime="2015-06-17T20:14:20+08:00">2015-06-17</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>
            </span>

          
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.2k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>2 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;今天依然接续上一节的内容进行学习总结，主要有关系运算符，等性运算符，条件运算符，赋值运算符和逗号运算符；</p>
<h2 id="关系运算符"><a href="#关系运算符" class="headerlink" title="关系运算符"></a>关系运算符</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;关系运算符执行的是比较运算。主要包括：小于( &lt; )、大于( &gt; )、小于等于( &lt;= )和大于等于( &gt;= )每个关系运算符都返回一个布尔值。执行行为如下：<br>&nbsp;&nbsp;● 如果俩个比较值都是 Number 类型的值，则按照 Number 的值进行比较；<br>&nbsp;&nbsp;● 如果俩个比较值都是字符串类型的值，则按照字符串的首字母的ASCII码值进行比较；<br>&nbsp;&nbsp;● 任何包含 NaN 的关系运算符都要返回 false；<br>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log( <span class="number">1</span> &gt; <span class="number">2</span>);</span><br><span class="line"><span class="built_in">console</span>.log( <span class="number">5</span> &gt; <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"AVC"</span> &gt; <span class="number">2</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"AVC"</span> &lt; <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"ABC"</span> &gt; <span class="string">"BCD"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"abc"</span> &gt; <span class="string">"BCD"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"24"</span> &gt; <span class="number">12</span>);</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<img src="/uploads/logic_1.png" /><font color=red><b>注意</b></font>：比较一个数字和一个字符串，ECMAScript 都会把字符串转换成数字，然后按照数字顺序比较它们；</p>
<h2 id="等性运算符"><a href="#等性运算符" class="headerlink" title="等性运算符"></a>等性运算符</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;判断两个变量是否相等是程序设计中非常重要的运算。在处理原始值时，这种运算相当简单，但涉及对象，任务就稍有点复杂。ECMAScript 提供了两套等性运算符：等号和非等号用于处理原始值，全等号和非全等号用于处理对象。</p>
<h3 id="等号和非等号"><a href="#等号和非等号" class="headerlink" title=" 等号和非等号"></a><font color=red> 等号和非等号</font></h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在 ECMAScript 中，等号由双等号（==）表示，当且仅当两个运算数相等时，它返回 true。非等号由感叹号加等号（!=）表示，当且仅当两个运算数不相等时，它返回 true。为确定两个运算数是否相等，这两个运算符都会进行类型转换。<br>执行规则如下：<br>&nbsp;&nbsp;● 值 null 和 undefined 相等。<br>&nbsp;&nbsp;● 在检查相等性时，不能把 null 和 undefined 转换成其他值。<br>&nbsp;&nbsp;● 如果某个运算数是 NaN，等号将返回 false，非等号将返回 true。<br>&nbsp;&nbsp;● 如果两个运算数都是对象，那么比较的是它们的引用值。如果两个运算数指向同一对象，那么等号返回 true，否则两个运算数不等。<br>特殊行为结果如下：<img src='/uploads/equal_1.png'/><font color=red><b>注意</b></font>：即使两个数都是 NaN，等号仍然返回 false，因为根据规则，NaN 不等于 NaN。</p>
<h3 id="全等号和非全等号"><a href="#全等号和非全等号" class="headerlink" title=" 全等号和非全等号"></a><font color=red> 全等号和非全等号</font></h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;等号和非等号的同类运算符是全等号和非全等号。这两个运算符所做的与等号和非等号相同，只是它们在检查相等性前，不执行类型转换。<br>&nbsp;&nbsp;● 全等号由三个等号表示（===），只有在无需类型转换运算数就相等的情况下，才返回 true。<br>&nbsp;&nbsp;● 非全等号由感叹号加两个等号（!==）表示，只有在无需类型转换运算数不相等的情况下，才返回 true。<br>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> age = <span class="string">"24"</span>;</span><br><span class="line"><span class="keyword">var</span> age_1 = <span class="number">24</span>;</span><br><span class="line"><span class="built_in">console</span>.log(age == age_1);</span><br><span class="line"><span class="built_in">console</span>.log(age === age_1);</span><br><span class="line"><span class="built_in">console</span>.log(age !== age_1);</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<img src="/uploads/equal_all.png" />通过上述示例我们可以清晰的理解 等号 与 全等号 的区别。</p>
<h2 id="条件运算符"><a href="#条件运算符" class="headerlink" title="条件运算符"></a>条件运算符</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;条件运算符通常也被称为三目运算符是 ECMAScript 中功能最多的运算符，它的形式与 Java 中的相同。<br>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> max = <span class="number">24</span>;</span><br><span class="line"><span class="keyword">var</span> min = <span class="number">20</span>;</span><br><span class="line"><span class="keyword">var</span> result = max &gt; min ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br><span class="line"><span class="keyword">var</span> result_1 = max &gt; min ? <span class="literal">false</span> : <span class="literal">true</span>;</span><br><span class="line"><span class="built_in">console</span>.log(result_1);</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<img src="/uploads/condition_1.png" /></p>
<h2 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;赋值运算分为简单赋值运算和复合赋值运算；<br>&nbsp;&nbsp;● 简单的赋值运算符由等号（=）实现，只是把等号右边的值赋予等号左边的变量。<br>&nbsp;&nbsp;● 复合赋值运算是由加，减，乘，除运算符或位移运算符加等号（=）实现的。<br>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> hello = <span class="string">"Hello, "</span>;</span><br><span class="line">hello += <span class="string">"MaxSoft "</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"hello="</span> + hello);</span><br><span class="line"><span class="keyword">var</span> age = <span class="number">12</span>;</span><br><span class="line">age += <span class="number">12</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"age="</span> + age);</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<img src='/uploads/equal_rich.png'/></p>
<h2 id="逗号运算符"><a href="#逗号运算符" class="headerlink" title="逗号运算符"></a>逗号运算符</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;用逗号运算符可以在一条语句中执行多个运算，其常用变量声明中。<br>示例代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> age=<span class="number">24</span>, name=<span class="string">"MaxSoft"</span>, sex=<span class="number">1</span>;</span><br></pre></td></tr></table></figure>




<p>参阅 <a href="http://www.w3school.com.cn/js/pro_js_implement.asp" target="_blank" rel="noopener">W3C School</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/06/14/JavaScript%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%867%E4%B8%AD/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/apple-touch-icon-next.png">
      <meta itemprop="name" content="maxsoft">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MaxSoft">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2015/06/14/JavaScript%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%867%E4%B8%AD/" class="post-title-link" itemprop="url">JavaScript基础知识整理<七>-中-笔记</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表时间</span>

              <time title="创建时间：2015-06-14 14:33:21" itemprop="dateCreated datePublished" datetime="2015-06-14T14:33:21+08:00">2015-06-14</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>
            </span>

          
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>4.9k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>4 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;一觉睡到大中午，吃个午饭就到这个点了，时间过得好快。继续昨天晚上的作业^M^…….学习和整理总结 ECMAScript 中相关运算符的知识点。</p>
<h2 id="位运算符"><a href="#位运算符" class="headerlink" title="位运算符"></a>位运算符</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ECMAScript 位运算符是在数字底层（即表示数字的 32 个数位）进行操作；主要包括 <font color=red>非(not)</font>，<font color=red>与(and)</font>，<font color=red>或(or)</font>，<font color=red>异或(xor)</font>，以及<font color=red>左移(&lt;&lt;)，右移(&gt;&gt; , &gt;&gt;&gt;)</font>运算符；其中右移运算符区分<font color=red>有符号右移(&gt;&gt;)</font>和<font color=red>无符号右移(&gt;&gt;&gt;)</font>运算符。<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在 ECMAScript 中整数有两种类型，即有符号整数（允许用正数和负数）和无符号整数（只允许用正数）。但是，其所有整数字面量都默认存储为有符号整数；只有使用位运算符才能创建无符号整数。<br>● 有符号整数使用 31 位表示整数值，用第 32 位表示符号，0 表示正数，1 表示负数。范围 -2<sup>31</sup> ~ 2<sup>31</sup>-1</p>
<p>可以以两种不同的方式存储二进制形式的有符号整数，一种用于存储正数，一种用于存储负数。<br/><font color=red><b>正数</b></font>&nbsp;是以真二进制形式存储的，前 31 位中的每一位都表示 2 的幂，从第 1 位（位 0）开始，表示 20，第 2 位（位 1）表示 21。没用到的位用 0 填充，即忽略不计。<br>例如，下图展示的是数 18 的表示法：<img src='/uploads/bit_18.gif'/>&nbsp;示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> age = <span class="number">18</span>;</span><br><span class="line"><span class="built_in">console</span>.log(age.toString(<span class="number">2</span>));</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<img src='/uploads/bit_18_1.png'/>通过上述结果我可以清楚的看到18的有效二进制码为”10010”；<br/><font color=red><b>负数</b></font>&nbsp;也存储为二进制代码，不过采用的形式是二进制补码。计算数字二进制补码的步骤有三步：<br/>1. 确定该数字的非负版本的二进制表示<br/> 2.求得二进制反码，即要把 0 替换为 1，把 1 替换为 0<br/>3.在二进制反码上加 1<br>以-18为例进行二进制转换：<br/>首先看18的二进制<img src='/uploads/18_A.png' />然后对二进制取反码 <img src='/uploads/18_B.png' />最后进行反码加1即为-18的二进制码<img src='/uploads/18_C.png' /><font color=red><b>无符号整数</b></font>把最后一位作为另一个数位处理。在这种模式中，第 32 位不表示数字的符号，而是值 2<sup>31</sup>。所以，无符号整数的数值范围为 0 到 2<sup>32</sup>-1。</p>
<h3 id="非-not-运算符"><a href="#非-not-运算符" class="headerlink" title=" 非( not )运算符 "></a><font color=red> 非( not )运算符 </font></h3><p>非运算 NOT 由否定号（~）表示，它是 ECMAScript 中为数不多的与二进制算术有关的运算符之一；<br/>其运算步骤分为三步：<br/>1 把运算数转换成 32 位数字；<br/>2 把二进制数转换成它的二进制反码；<br/>3 把二进制数转换成浮点数；<br>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> age = <span class="number">24</span>;</span><br><span class="line"><span class="built_in">console</span>.log(~age);</span><br><span class="line"><span class="keyword">var</span> height = <span class="number">168</span>;</span><br><span class="line"><span class="built_in">console</span>.log(~height);</span><br><span class="line"><span class="keyword">var</span> weight = <span class="number">-56</span>;</span><br><span class="line"><span class="built_in">console</span>.log(~weight);</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<img src='/uploads/bit_not.png'/>通过上述示例我们可以得出<font color=red>非运算 NOT </font>实质上是对数字求负，然后减 1。</p>
<h3 id="与-and-运算符"><a href="#与-and-运算符" class="headerlink" title=" 与( and )运算符 "></a><font color=red> 与( and )运算符 </font></h3><p>与运算 AND 由和号（&amp;）表示，直接对数字的二进制形式进行运算。它把每个数字中的数位对齐，然后用下面的规则对同一位置上的两个数位进行 AND 运算：<img src='/uploads/and_a.png'/>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> age = <span class="number">24</span>;	<span class="comment">//0000000000000000000000000011000</span></span><br><span class="line"><span class="keyword">var</span> age_1 = <span class="number">13</span>;	<span class="comment">//0000000000000000000000000001101</span></span><br><span class="line"><span class="built_in">console</span>.log(age &amp; age_1);</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<img src='/uploads/and_exp.png'/></p>
<h3 id="或-or-运算符"><a href="#或-or-运算符" class="headerlink" title=" 或( or )运算符 "></a><font color=red> 或( or )运算符 </font></h3><p>位运算 OR 由符号（|）表示，也是直接对数字的二进制形式进行运算。在计算每位时，OR 运算符采用下列规则：<img src='/uploads/or_1.png'/>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> age = <span class="number">24</span>;	<span class="comment">//0000000000000000000000000011000</span></span><br><span class="line"><span class="keyword">var</span> age_1 = <span class="number">13</span>;	<span class="comment">//0000000000000000000000000001101</span></span><br><span class="line"><span class="built_in">console</span>.log(age | age_1);</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<img src='/uploads/or_2.png'/></p>
<h3 id="异或-xor-运算符"><a href="#异或-xor-运算符" class="headerlink" title=" 异或( xor )运算符 "></a><font color=red> 异或( xor )运算符 </font></h3><p>位运算 XOR 由符号（^）表示，当然，也是直接对二进制形式进行运算。XOR 不同于 OR，当只有一个数位存放的是 1 时，它才返回 1。真值表如下：<img src='/uploads/xor_1.png'/>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> age = <span class="number">24</span>;	<span class="comment">//0000000000000000000000000011000</span></span><br><span class="line"><span class="keyword">var</span> age_1 = <span class="number">13</span>;	<span class="comment">//0000000000000000000000000001101</span></span><br><span class="line"><span class="built_in">console</span>.log(age ^ age_1);</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<img src='/uploads/xor_2.png'/></p>
<h3 id="左移-lt-lt-运算符"><a href="#左移-lt-lt-运算符" class="headerlink" title=" 左移( &lt;&lt; )运算符 "></a><font color=red> 左移( &lt;&lt; )运算符 </font></h3><p>左移运算由两个小于号表示（&lt;&lt;）。它把数字中的所有数位向左移动指定的数量。<br>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sex = <span class="number">1</span>; <span class="comment">// 二进制 00000000000000000000000000000001</span></span><br><span class="line"><span class="keyword">var</span> age = <span class="number">24</span>; <span class="comment">// 二进制 00000000000000000000000000011000</span></span><br><span class="line"><span class="built_in">console</span>.log(sex &lt;&lt; <span class="number">10</span>); </span><br><span class="line"><span class="built_in">console</span>.log(age &lt;&lt; <span class="number">10</span>);</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<img src='/uploads/left_1.png'/><font color=red><b>注意</b></font>：上述示例在左移数位时，数字右边多出 10 个空位。左移运算用 0 填充这些空位，使结果成为完整的 32 位数字。左移运算保留数字的符号位。例如，如果把 -2 左移 10 位，得到的是 -1024，而不是 1024。</p>
<h3 id="有符号右移-gt-gt-运算符"><a href="#有符号右移-gt-gt-运算符" class="headerlink" title=" 有符号右移( &gt;&gt; )运算符 "></a><font color=red> 有符号右移( &gt;&gt; )运算符 </font></h3><p>有符号右移运算符由两个大于号表示（&gt;&gt;）。它把 32 位数字中的所有数位整体右移，同时保留该数的符号（正号或负号）。有符号右移运算符恰好与左移运算相反。同样，移动数位后会造成空位。这次，空位位于数字的左侧，但位于符号位之后。ECMAScript 用符号位的值填充这些空位，创建完整的数字。<br>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sex = <span class="number">1</span>; <span class="comment">// 二进制 00000000000000000000000000000001</span></span><br><span class="line"><span class="keyword">var</span> age = <span class="number">24</span>; <span class="comment">// 二进制 00000000000000000000000000011000</span></span><br><span class="line"><span class="built_in">console</span>.log(sex &gt;&gt; <span class="number">10</span>); </span><br><span class="line"><span class="built_in">console</span>.log(age &gt;&gt; <span class="number">10</span>);</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<img src='/uploads/right_1.png'/></p>
<h3 id="无符号右移-gt-gt-gt-运算符"><a href="#无符号右移-gt-gt-gt-运算符" class="headerlink" title=" 无符号右移( &gt;&gt;&gt; )运算符 "></a><font color=red> 无符号右移( &gt;&gt;&gt; )运算符 </font></h3><p>无符号右移运算符由三个大于号（&gt;&gt;&gt;）表示，它将无符号 32 位数的所有数位整体右移。对于正数，无符号右移运算的结果与有符号右移运算一样。无符号右移运算用 0 填充所有空位。<br>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sex = <span class="number">1024</span>; <span class="comment">// 二进制 00000000000000000000010000000000</span></span><br><span class="line"><span class="keyword">var</span> age = <span class="number">2048</span>; <span class="comment">// 二进制 00000000000000000000100000000000</span></span><br><span class="line"><span class="keyword">var</span> temp = <span class="number">-1024</span>; <span class="comment">// 二进制 00000000000000000000001000000000</span></span><br><span class="line"><span class="built_in">console</span>.log(sex &gt;&gt;&gt; <span class="number">4</span>); </span><br><span class="line"><span class="built_in">console</span>.log(age &gt;&gt;&gt; <span class="number">4</span>);</span><br><span class="line"><span class="built_in">console</span>.log(temp &gt;&gt;&gt; <span class="number">4</span>);</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<img src='/uploads/right_2.png'/><br/><font color=red><b>注意</b></font>：由于无符号右移运算的结果是一个 32 位的正数，所以负数的无符号右移运算得到的总是一个非常大的数字。</p>
<h2 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ECMAScript 中的逻辑运算符包括：NOT、AND 和 OR；</p>
<h3 id="逻辑-NOT-运算符"><a href="#逻辑-NOT-运算符" class="headerlink" title=" 逻辑 NOT 运算符 "></a><font color=red> 逻辑 NOT 运算符 </font></h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在 ECMAScript 中，逻辑 NOT 运算符与 C 和 Java 中的逻辑 NOT 运算符相同，都由感叹号（!）表示。与逻辑 OR 和逻辑 AND 运算符不同的是，<font color=red>逻辑 NOT 运算符返回的一定是 Boolean 值</font>。<br>逻辑 NOT 运算符的行为如下：<br>&nbsp;&nbsp;● 如果运算数是对象，返回 false；<br>&nbsp;&nbsp;● 如果运算数是数字 0，返回 true；<br>&nbsp;&nbsp;● 如果运算数是 0 以外的任何数字，返回 false；<br>&nbsp;&nbsp;● 如果运算数是 null，返回 true；<br>&nbsp;&nbsp;● 如果运算数是 NaN，返回 true；<br>&nbsp;&nbsp;● 如果运算数是 undefined，发生错误；<br>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> temp_1 = <span class="string">"temp_1"</span>;</span><br><span class="line"><span class="built_in">console</span>.log( <span class="string">"(!temp_1)="</span>+ !temp_1);</span><br><span class="line"><span class="built_in">console</span>.log( <span class="string">"(!temp_1)="</span>+ !!temp_1);</span><br><span class="line"><span class="keyword">var</span> num_1 = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">console</span>.log( <span class="string">"(!num_1)="</span>+ !num_1);</span><br><span class="line"><span class="built_in">console</span>.log( <span class="string">"(!num_1)="</span>+ !!num_1);</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<img src='/uploads/boolean_not.png'/><br/><font color=red><b>注意</b></font>：判断 ECMAScript 变量的 Boolean 值时，也可以使用逻辑 NOT 运算符。这样做需要在一行代码中使用两个 NOT 运算符。无论运算数是什么类型，第一个 NOT 运算符返回 Boolean 值。第二个 NOT 将对该 Boolean 值求负，从而给出变量真正的 Boolean 值。</p>
<h3 id="逻辑-AND-运算符"><a href="#逻辑-AND-运算符" class="headerlink" title=" 逻辑 AND 运算符 "></a><font color=red> 逻辑 AND 运算符 </font></h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在 ECMAScript 中，逻辑 AND 运算符用双和号（&amp;&amp;）表示，其运算行为如下：<img src='/uploads/boolean_and.png' />逻辑 AND 运算的运算数可以是任何类型的，不止是 Boolean 值。如果某个运算数不是原始的 Boolean 型值，逻辑 AND 运算并不一定返回 Boolean 值：<br>&nbsp;&nbsp;● 如果一个运算数是对象，另一个是 Boolean 值，返回该对象。<br>&nbsp;&nbsp;● 如果两个运算数都是对象，返回第二个对象。<br>&nbsp;&nbsp;● 如果某个运算数是 null，返回 null。<br>&nbsp;&nbsp;● 如果某个运算数是 NaN，返回 NaN。<br>&nbsp;&nbsp;● 如果某个运算数是 undefined，发生错误。<br>与 Java 中的逻辑 AND 运算相似，ECMAScript 中的逻辑 AND 运算也是简便运算，即如果第一个运算数决定了结果，就不再计算第二个运算数。对于逻辑 AND 运算来说，如果第一个运算数是 false，那么无论第二个运算数的值是什么，结果都不可能等于 true。<br>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> boo_1 = <span class="literal">true</span>;</span><br><span class="line"><span class="built_in">console</span>.log(boo_1 || temp); <span class="comment">//这里temp为undefined</span></span><br><span class="line"><span class="keyword">var</span> boo_2 = <span class="literal">false</span>;</span><br><span class="line"><span class="built_in">console</span>.log(boo_2 &amp;&amp; temp); <span class="comment">//这里temp为undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(boo_1 &amp;&amp; temp); <span class="comment">//这里temp为undefined</span></span><br></pre></td></tr></table></figure>
<p>运行结果如下：<img src='/uploads/boolean_and_1.png' />通过上述示例可以发现，<font color=red>「AND 运算符和 Java 中一样，也存在短路运算的特性」</font>。</p>
<h3 id="逻辑-OR-运算符"><a href="#逻辑-OR-运算符" class="headerlink" title=" 逻辑 OR 运算符 "></a><font color=red> 逻辑 OR 运算符 </font></h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ECMAScript 中的逻辑 OR 运算符与 Java 中的相同，都由双竖线（||）表示。逻辑 OR 运算符的行为如下：<img src='/uploads/boolean_or_1.png' />与逻辑 AND 运算符相似，如果某个运算数不是 Boolean 值，逻辑 OR 运算并不一定返回 Boolean 值：<br>&nbsp;&nbsp;● 如果一个运算数是对象，并且该对象左边的运算数值均为 false，则返回该对象。<br>&nbsp;&nbsp;● 如果两个运算数都是对象，返回第一个对象。<br>&nbsp;&nbsp;● 如果最后一个运算数是 null，并且其他运算数值均为 false，则返回 null。<br>&nbsp;&nbsp;● 如果最后一个运算数是 NaN，并且其他运算数值均为 false，则返回 NaN。<br>&nbsp;&nbsp;● 如果某个运算数是 undefined，发生错误。<br>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> boolean_1 = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">var</span> boolean_2 = <span class="literal">false</span>;</span><br><span class="line"><span class="built_in">console</span>.log(boolean_1 || temp);</span><br><span class="line"><span class="built_in">console</span>.log(boolean_1 || boolean_2);</span><br><span class="line"><span class="built_in">console</span>.log(temp || boolean_1);</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<img src='/uploads/boolean_or_2.png' />通过上述示例可以发现，<font color=red>「OR 运算符和 Java 中一样，也存在短路运算的特性」</font>。</p>
<p>又一个周末结束了，时间过得真快 …… 到饭点儿了，走起 …… </p>
<p>参阅 <a href="http://www.w3school.com.cn/js/pro_js_implement.asp" target="_blank" rel="noopener">W3C School</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/06/13/JavaScript%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%867%E4%B8%8A/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/apple-touch-icon-next.png">
      <meta itemprop="name" content="maxsoft">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MaxSoft">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2015/06/13/JavaScript%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%867%E4%B8%8A/" class="post-title-link" itemprop="url">JavaScript基础知识整理<七>-上-笔记</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表时间</span>

              <time title="创建时间：2015-06-13 19:13:11" itemprop="dateCreated datePublished" datetime="2015-06-13T19:13:11+08:00">2015-06-13</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>
            </span>

          
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>4.9k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>4 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;今天玩的有点嗨了，回来居然进入不了学习的状态，嚓嚓 …… 言归正传，我们前一节总结了引用类型的相关知识点，本节主要学习和整理总结 ECMAScript 中相关运算符的知识点。</p>
<h2 id="类型运算符"><a href="#类型运算符" class="headerlink" title="类型运算符"></a>类型运算符</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ECMAScript 语言中提供的关于类型相关的运算符有俩个，分别是 typeof 和 instanceof；在使用 typeof 运算符时采用引用类型存储值会出现一个问题，无论引用的是什么类型的对象，它都返回 “object”；而 instanceof 则是 ECMAScript 语言中用来解决这个问题。</p>
<h3 id="typeof-运算符"><a href="#typeof-运算符" class="headerlink" title="typeof 运算符"></a>typeof 运算符</h3><p>typeof 运算符有一个参数，即要检查的变量或值；对变量或值调用 typeof 运算符将返回下列值之一：<br>● undefined - 如果变量是 Undefined 类型的<br>● boolean - 如果变量是 Boolean 类型的<br>● number - 如果变量是 Number 类型的<br>● string - 如果变量是 String 类型的<br>● object - 如果变量是一种引用类型或 Null 类型的</p>
<p>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">"MaxSoft"</span></span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> name);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> obj);</span><br></pre></td></tr></table></figure>
<p>运行结果如下图：<img src='/uploads/typeof_1.png'></p>
<h3 id="instanceof-运算符"><a href="#instanceof-运算符" class="headerlink" title="instanceof 运算符"></a>instanceof 运算符</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; instanceof 运算符与 typeof 运算符相似，用于识别正在处理的对象的类型。与 typeof 方法不同的是，instanceof 方法要求开发者明确地确认对象为某特定类型。<br>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> msg = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">"hello MaxSoft"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(msg <span class="keyword">instanceof</span> <span class="built_in">String</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> msg);</span><br></pre></td></tr></table></figure>
<p>运行结果如下图：<img src='/uploads/instanceof.png'></p>
<h2 id="一元运算符"><a href="#一元运算符" class="headerlink" title="一元运算符"></a>一元运算符</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 一元运算符只有一个参数，即要操作的对象或值。例如 delete , void , ++ , + , - - , - 等，它们是 ECMAScript 中最简单的运算符。</p>
<h3 id="delete"><a href="#delete" class="headerlink" title=" delete "></a><font color=red> delete </font></h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 该运算符是删除当前对象的自定义属性或方法的引用，但是不能删除系统默认的属性和方法。<br>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> employee = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">employee.name = <span class="string">"MaxSoft"</span>;</span><br><span class="line">employee.age = <span class="number">24</span>;</span><br><span class="line"><span class="built_in">console</span>.log(employee.name);</span><br><span class="line"><span class="keyword">delete</span> employee.name;</span><br><span class="line"><span class="built_in">console</span>.log(employee.name);</span><br><span class="line"><span class="keyword">delete</span> employee.toString</span><br><span class="line"><span class="built_in">console</span>.log(employee.toString());</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<img src='/uploads/delete.png'/>从上述的运行结果我们看到，name 属性被删除后，再访问其结果就变成了 undefined ；而 toString 方法被删除后，再访问其依然有效。</p>
<h3 id="void"><a href="#void" class="headerlink" title=" void "></a><font color=red> void </font></h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 该运算符对任何值返回 undefined，通常用于避免输出不应该输出的值。<br>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> win_res = <span class="built_in">window</span>.open(<span class="string">'about:blank'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(win_res);</span><br><span class="line"><span class="keyword">var</span> win_res_1 = <span class="keyword">void</span>(<span class="built_in">window</span>.open(<span class="string">'about:blank'</span>));</span><br><span class="line"><span class="built_in">console</span>.log(win_res_1);</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<img src='/uploads/void.png'/>通过以上代码发现，没有使用 void 运算符则返回了有效的结果，而使用 void 运算符则返回了 undefined；</p>
<h3 id="增量-减量"><a href="#增量-减量" class="headerlink" title=" 增量/减量(++ / - -)"></a><font color=red> 增量/减量(++ / - -)</font></h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;一元（前，后）增量和一元（前，后）减量是直接从 C（和 Java）借用的两个运算符。这两个运算符使用的情况分为四种。示例代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> age = <span class="number">24</span>;</span><br><span class="line"><span class="built_in">console</span>.log(++age);</span><br><span class="line"><span class="built_in">console</span>.log(age);</span><br><span class="line"><span class="keyword">var</span> age_1 = <span class="number">24</span>;</span><br><span class="line"><span class="built_in">console</span>.log(age_1++);</span><br><span class="line"><span class="built_in">console</span>.log(age_1);</span><br><span class="line"><span class="keyword">var</span> age_2 = <span class="number">24</span>;</span><br><span class="line"><span class="built_in">console</span>.log(--age_2);</span><br><span class="line"><span class="built_in">console</span>.log(age_2);</span><br><span class="line"><span class="built_in">console</span>.log(age_2--);</span><br><span class="line"><span class="built_in">console</span>.log(age_2);</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<img src='/uploads/dubble_plus_sub.png'/>通过上诉运行结果我们可以得出如下结论：<br>● <font color=red><b>++</b></font>：如果在变量前面则先执行运算再使用变量，如果在变量后面则先使用变量再执行运算；<br>● <font color=red><b>- -</b></font>：如果在变量前面则先执行运算再使用变量，如果在变量后面则先执行运算再使用变量；</p>
<h3 id="加减"><a href="#加减" class="headerlink" title=" 加减(+ / -)"></a><font color=red> 加减(+ / -)</font></h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;一元加法和一元减法运算符和我们数学中的加法减法用法相同。<br>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> age =<span class="number">24</span>;</span><br><span class="line"><span class="built_in">console</span>.log(-age);</span><br><span class="line"><span class="built_in">console</span>.log(+age);</span><br><span class="line"><span class="keyword">var</span> name=<span class="string">"MaxSoft："</span>;</span><br><span class="line"><span class="built_in">console</span>.log(name + age);</span><br><span class="line"><span class="built_in">console</span>.log(name - age);</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<img src='/uploads/plus_sub.png'/>通过上述运行结果我们发现，一元加法除了与数学中的加法相同的用法外， 在编程语言中还有字符串的拼接功能，而减法则没有；</p>
<h2 id="加-减-乘-除-取模运算符"><a href="#加-减-乘-除-取模运算符" class="headerlink" title="加|减|乘|除|取模运算符"></a>加|减|乘|除|取模运算符</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 加（+），减（-），乘（*），除（/），取模（%）运算符和我们高中数学中的用法完全相同。</p>
<h3 id="加法"><a href="#加法" class="headerlink" title="加法(+)"></a><font color=red>加法(+)</font></h3><p>该运算符在处理特殊值时，ECMAScript 中的加法也有一些特殊行为：<br>● 某个运算数是 NaN，那么结果为 NaN<br>● -Infinity 加 -Infinity，结果为 -Infinity<br>● Infinity 加 -Infinity，结果为 NaN<br>● +0 加 +0，结果为 +0<br>● -0 加 +0，结果为 +0<br>● 6. -0 加 -0，结果为 -0<br>如果某个运算数是字符串，那么采用下列规则：<br>● 如果两个运算数都是字符串，把第二个字符串连接到第一个上。<br>● 如果只有一个运算数是字符串，把另一个运算数转换成字符串，结果是两个字符串连接成的字符串。<br>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> number = <span class="number">5</span> + <span class="number">20</span>;</span><br><span class="line"><span class="built_in">console</span>.log(number);</span><br><span class="line"><span class="keyword">var</span> code = <span class="string">"55"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(number + code);</span><br><span class="line"><span class="keyword">var</span> result = <span class="string">"MaxSoft ："</span> + number;</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br><span class="line"><span class="built_in">console</span>.log(result + code);</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<img src='/uploads/add.png'/>通过上述示例我们可以非常清晰的理解加法（+）运算符俩种用法的差别；</p>
<h3 id="减法"><a href="#减法" class="headerlink" title="减法(-)"></a><font color=red>减法(-)</font></h3><p>该运算符与加法运算符一样，在处理特殊值时，也有一些特殊行为：<br>● 某个运算数是 NaN，那么结果为 NaN<br>● Infinity 减 Infinity，结果为 NaN<br>● -Infinity 减 -Infinity，结果为 NaN<br>● Infinity 减 -Infinity，结果为 Infinity<br>● -Infinity 减 Infinity，结果为 -Infinity<br>● +0 减 +0，结果为 +0<br>● -0 减 -0，结果为 -0<br>● +0 减 -0，结果为 +0<br>● 某个运算符不是数字，那么结果为 NaN<br>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> number = <span class="number">24</span>;</span><br><span class="line"><span class="keyword">var</span> num = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">var</span> code = <span class="string">"code"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(number - num);</span><br><span class="line"><span class="built_in">console</span>.log(num - number);</span><br><span class="line"><span class="built_in">console</span>.log(number - code);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span> - num);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">null</span> - num);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">false</span> - num);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">true</span> - num);</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<img src='/uploads/sub.png'/>通过上述示例我们可以看到如果运算数都是数字，那么执行常规的减法运算，并返回结果；否则返回NaN；<br/><font color=red><b>注意</b>：这里的 null , false , true 执行了类型隐式转换后进行运算</font>&nbsp;</p>
<h3 id="乘法-lowast"><a href="#乘法-lowast" class="headerlink" title="乘法(&lowast;)"></a><font color=red>乘法(&lowast;)</font></h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;乘法运算符由星号（*）表示，用于两个操作数进行相乘。ECMAScript 中的乘法语法与 C 语言中的相同；但是，在处理特殊值时，ECMAScript 中的乘法也存在一些特殊的行为：<br>● 如果结果太大或太小，那么生成的结果是 Infinity 或 -Infinity。<br>● 如果某个运算数是 NaN，结果为 NaN。<br>● Infinity 乘以 0，结果为 NaN。<br>● Infinity 乘以 0 以外的任何数字，结果为 Infinity 或 -Infinity。<br>● Infinity 乘以 Infinity，结果为 Infinity。<br>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> age = <span class="number">4</span> * <span class="number">6</span>;</span><br><span class="line"><span class="keyword">var</span> pi = <span class="number">-3</span>;</span><br><span class="line"><span class="keyword">var</span> name = <span class="string">"MaxSoft"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(age);</span><br><span class="line"><span class="built_in">console</span>.log(age * pi);</span><br><span class="line"><span class="built_in">console</span>.log(pi * pi);</span><br><span class="line"><span class="built_in">console</span>.log(age * name);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">false</span> * age);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">null</span> * age);</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<img src='/uploads/mult.png'/>通过上述示例我们可以更加直观的看到如果运算数是数字，那么执行常规的乘法运算，即两个正数或两个负数为正数，两个运算数符号不同，结果为负数。</p>
<h3 id="除法"><a href="#除法" class="headerlink" title="除法(/)"></a><font color=red>除法(/)</font></h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;除法运算符由斜杠（/）表示，用第二个运算数除第一个运算数。该运算符与乘法运算符相似，在处理特殊值时，该运算符也有一些特殊行为：<br>● 如果结果太大或太小，那么生成的结果是 Infinity 或 -Infinity。<br>● 如果某个运算数是 NaN，结果为 NaN。<br>● Infinity 被 Infinity 除，结果为 NaN。<br>● Infinity 被任何数字除，结果为 Infinity。<br>● 0 除一个任何非无穷大的数字，结果为 NaN。<br>● Infinity 被 0 以外的任何数字除，结果为 Infinity 或 -Infinity。<br>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> age = <span class="number">48</span> / <span class="number">2</span>;</span><br><span class="line"><span class="keyword">var</span> pi = <span class="number">-3</span>;</span><br><span class="line"><span class="keyword">var</span> name = <span class="string">"MaxSoft"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(age);</span><br><span class="line"><span class="built_in">console</span>.log(age / pi);</span><br><span class="line"><span class="built_in">console</span>.log(pi / pi);</span><br><span class="line"><span class="built_in">console</span>.log(age / name);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">false</span> / age);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">null</span> / age);</span><br><span class="line"><span class="built_in">console</span>.log(age / <span class="number">0</span>);</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<img src='/uploads/divsion.png'/>通过上述示例我们可以更加直观的看到，如果运算数是数字，那么执行常规的除法运算，即两个正数或两个负数为正数，两个运算数符号不同，结果为负数。</p>
<h3 id="取模"><a href="#取模" class="headerlink" title="取模(%)"></a><font color=red>取模(%)</font></h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;除法（余数）运算符由百分号（%）表示。该运算符与上述其他运算符相似，对于特殊值，该运算符也有其特殊的行为：<br>● 如果被除数是 Infinity，或除数是 0，结果为 NaN<br>● Infinity 被 Infinity 除，结果为 NaN<br>● 如果除数是无穷大的数，结果为被除数<br>● 如果被除数为 0，结果为 0<br>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> temp = <span class="number">28</span>;</span><br><span class="line"><span class="keyword">var</span> age = <span class="number">3</span>;</span><br><span class="line"><span class="built_in">console</span>.log(age%temp);</span><br><span class="line"><span class="built_in">console</span>.log(temp%age);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>%age);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">0</span>/age);</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<img src='/uploads/modle.png'/>通过上述示例我们可以更加直观的看到，如果运算数是数字，那么执行常规的算术除法运算，返回除法运算得到的余数。</p>
<p><font color=red><b>注意</b>：上述运算符中，只要有一个操作数为NaN，则结果就会返回NaN；</font></p>
<p>呃呃…… 又到凌晨1点了。洗洗睡，明天继续……<br>参阅 <a href="http://www.w3school.com.cn/js/pro_js_implement.asp" target="_blank" rel="noopener">W3C School</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/06/12/JavaScript%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%866/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/apple-touch-icon-next.png">
      <meta itemprop="name" content="maxsoft">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MaxSoft">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2015/06/12/JavaScript%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%866/" class="post-title-link" itemprop="url">JavaScript基础知识整理<六>-笔记</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表时间</span>

              <time title="创建时间：2015-06-12 20:23:31" itemprop="dateCreated datePublished" datetime="2015-06-12T20:23:31+08:00">2015-06-12</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>
            </span>

          
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>5.2k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>5 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;今天主要学习并总结 ECMAScript 语言中引用类型相关的知识点。引用类型通常叫做类（class），也就是说，遇到引用值，所处理的就是对象。从传统意义上来说，ECMAScript 并不真正具有类。事实上，除了说明不存在类，在 ECMAScript 中根本没有出现“类”这个词。ECMAScript 定义了“对象定义”，逻辑上等价于其他程序设计语言中的类。<br>对象是由 new 运算符加上要实例化的对象的名字创建的，这种语法与 Java 语言类似，不过当有不止一个参数时，ECMAScript 要求使用括号。如果没有参数，括号也可以省略「尽管括号不是必需的，但是为了避免混乱，最好使用括号」。示例代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line"><span class="keyword">var</span> obj_0 = <span class="keyword">new</span> <span class="built_in">Object</span>;</span><br></pre></td></tr></table></figure>
<h2 id="Object-对象"><a href="#Object-对象" class="headerlink" title="Object 对象"></a>Object 对象</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Object 对象自身用处不大，不过在了解其他类之前，还是应该了解它。因为 ECMAScript 中的 Object 对象与 Java 中的 java.lang.Object 相似，ECMAScript 中的所有对象都由这个对象继承而来，Object 对象中的所有属性和方法都会出现在其他对象中，所以理解了 Object 对象，就可以更好地理解其他对象。<br>以下为 Object 对象的属性：<br/><font color=red>constructor</font>：对创建对象的函数的引用（指针）。对于 Object 对象，该指针指向原始的 Object() 函数。<br/><font color=red>prototype</font>：对该对象的对象原型的引用。对于所有的对象，它默认返回 Object 对象的一个实例。<br>以下为 Object 对象的方法：<br/><font color=red>hasOwnProperty(property)</font><br>判断对象是否有某个特定的属性。必须用字符串指定该属性。（例如，o.hasOwnProperty(“name”)）<br><font color=red>isPrototypeOf(object)</font><br>判断该对象是否为另一个对象的原型。<br><font color=red>propertyIsEnumerable(property)</font><br>判断给定的属性是否可以用 for…in 语句进行枚举。<br><font color=red>toString()</font><br>返回对象的原始字符串表示。<br><font color=red>valueOf()</font><br>返回最适合该对象的原始值。对于许多对象，该方法返回的值都与 ToString() 的返回值相同。<br>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">obj.name=<span class="string">"MaxSoft"</span>;</span><br><span class="line">obj.age=<span class="number">24</span>;</span><br><span class="line">obj.height=<span class="number">168</span>;</span><br><span class="line">obj.like=[<span class="string">'football'</span>,<span class="string">'basketball'</span>,<span class="string">'computer'</span>];</span><br><span class="line">obj.isMan=<span class="literal">true</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Object_1</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Object_2</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line">Object_2.prototype = <span class="built_in">Object</span>.create(Object_1.prototype);</span><br><span class="line">obj_2 = <span class="keyword">new</span> Object_2();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj.hasOwnProperty(<span class="string">'name'</span>) + <span class="string">"&lt;---&gt;"</span> + obj.hasOwnProperty(<span class="string">'name_0'</span>));</span><br><span class="line"><span class="built_in">console</span>.log(obj.propertyIsEnumerable(<span class="string">'age'</span>) + <span class="string">"&lt;---&gt;"</span> + obj.propertyIsEnumerable(<span class="string">'age_0'</span>));</span><br><span class="line"><span class="built_in">console</span>.log(Object_1.prototype.isPrototypeOf(obj_2) + <span class="string">"&lt;---&gt;"</span> + <span class="built_in">Object</span>.prototype.isPrototypeOf(obj_2));</span><br><span class="line"><span class="built_in">console</span>.log(obj.toString() + <span class="string">"&lt;---&gt;"</span> + obj.valueOf());</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<img src='/uploads/prototypeof.png'></p>
<h2 id="Boolean-对象"><a href="#Boolean-对象" class="headerlink" title="Boolean 对象"></a>Boolean 对象</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Boolean 对象是 Boolean 原始类型的引用类型。创建 Boolean 对象，只需要传递 Boolean 值作为参数即可。Boolean 对象将覆盖 Object 对象的 ValueOf() 方法，返回原始值，即 true 和 false。ToString() 方法也会被覆盖，返回字符串 “true” 或 “false”。<br>示例代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> isExists = <span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="literal">true</span>);</span><br><span class="line"><span class="built_in">console</span>.log(isExists.toString());</span><br><span class="line"><span class="built_in">console</span>.log(isExists.valueOf());</span><br><span class="line"><span class="keyword">var</span> result = isExists &amp;&amp; <span class="literal">true</span>;</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></table></figure>
<p>运行结果如下图：<img src='/uploads/boolean_1.png' /></p>
<h2 id="Number-对象"><a href="#Number-对象" class="headerlink" title="Number 对象"></a>Number 对象</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Number 对象是 Number 原始类型的引用类型。要得到数字对象的 Number 原始值，只需要使用 valueOf() 方法即可。Number 类型的特殊值都是 Number 对象的静态属性。示例代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> age = <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">24</span>);</span><br><span class="line"><span class="keyword">var</span> age_0 = age.valueOf();</span><br><span class="line"><span class="built_in">console</span>.log(age);</span><br><span class="line"><span class="built_in">console</span>.log(age.toString());</span><br><span class="line"><span class="built_in">console</span>.log(age_0);</span><br></pre></td></tr></table></figure>
<p>运行结果如下图所示：<img src='/uploads/number_1.png' />以下为 Number 对象几个处理数值的专用方法：<br>1&gt; <font color=red>toFixed()</font>：toFixed() 方法返回的是具有指定位数小数的数字的字符串表示；<br>示例代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> weight = <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">56</span>);</span><br><span class="line"><span class="built_in">console</span>.log(weight.toFixed(<span class="number">2</span>));</span><br><span class="line"><span class="built_in">console</span>.log(weight.toFixed(<span class="number">23</span>));</span><br></pre></td></tr></table></figure>
<p>运行结果如下图：<img src='/uploads/tofixed_1.png'>2&gt; <font color=red>toExponential()</font>：它返回的是用科学计数法表示的数字的字符串形式。与 toFixed() 方法相似，toExponential() 方法也有一个参数，指定要输出的小数的位数。<br>示例代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">3.141592654</span>);</span><br><span class="line"><span class="keyword">var</span> weight = <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">50000000</span>);</span><br><span class="line"><span class="built_in">console</span>.log(p.toExponential(<span class="number">2</span>));</span><br><span class="line"><span class="built_in">console</span>.log(p.toExponential(<span class="number">5</span>));</span><br><span class="line"><span class="built_in">console</span>.log(weight.toExponential(<span class="number">2</span>));</span><br><span class="line"><span class="built_in">console</span>.log(weight.toExponential(<span class="number">5</span>));</span><br></pre></td></tr></table></figure>
<p>运行结果如下图：<img src='/uploads/toexponential.png' />3&gt; <font color=red>toPrecision()</font>：根据最有意义的形式来返回数字的预定形式或指数形式。它有一个参数，即用于表示数的数字总数（不包括指数）。<br>示例代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> weight = <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">56</span>);</span><br><span class="line"><span class="built_in">console</span>.log(weight.toPrecision(<span class="number">1</span>));</span><br><span class="line"><span class="built_in">console</span>.log(weight.toPrecision(<span class="number">2</span>));</span><br><span class="line"><span class="built_in">console</span>.log(weight.toPrecision(<span class="number">3</span>));</span><br></pre></td></tr></table></figure>
<p>运行结果如下图：<img src='/uploads/toprecision.png'><br><font color=red><b>注意</b></font>：toFixed()、toExponential() 和 toPrecision() 方法都会进行舍入操作，以便用正确的小数位数正确地表示一个数。</p>
<h2 id="String-对象"><a href="#String-对象" class="headerlink" title="String 对象"></a>String 对象</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String 对象是 String 原始类型的对象表示法。String 对象的 valueOf() 方法和 toString() 方法都会返回 String 类型的原始值。示例代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> msg = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">"hello maxsoft"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(msg);</span><br><span class="line"><span class="built_in">console</span>.log(msg.toString() === msg.valueOf());</span><br></pre></td></tr></table></figure>
<p>运行结果如下所示：<img src='/uploads/string_1.png'>以下为 String 对象的属性：<br/><font color=red>length </font>：返回字符串中的字符个数，及字符串的长度；<br>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> msg = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">"hello MaxSoft"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(msg.length);</span><br></pre></td></tr></table></figure>
<p>运行结果如下图：<img src='/uploads/length_1.png'></p>
<p>以下为 String 对象部分常用方法：<br/><font color=red>charAt()</font>：返回的是包含指定位置处的字符的字符串；<br>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> msg = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">"hello MaxSoft"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(msg.charAt(<span class="number">3</span>));</span><br></pre></td></tr></table></figure>
<p>运行结果如下图：<img src='/uploads/charat_1.png'><font color=red>charCodeAt()</font>：返回指定位置的字符的字符代码；<br>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> msg = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">"hello MaxSoft"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(msg.charCodeAt(<span class="number">5</span>));</span><br></pre></td></tr></table></figure>
<p>运行结果如下图：<img src='/uploads/charcodeat_1.png'><font color=red>concat()</font>：用于把一个或多个字符串连接到 String 对象的原始值上。该方法返回的是 String 原始值，保持原始的 String 对象不变；<br>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> msg = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">"hello MaxSoft"</span>);</span><br><span class="line"><span class="keyword">var</span> say = msg.concat(<span class="string">' ...... '</span>);</span><br><span class="line"><span class="built_in">console</span>.log(say);</span><br></pre></td></tr></table></figure>
<p>运行结果如下图：<img src='/uploads/concat.png'><font color=red>indexOf()</font>：从字符串的开头（位置 0）开始检索字符串，并返回其位置，否则返回-1；<br>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> msg = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">"hello MaxSoft"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(msg.indexOf(<span class="string">'M'</span>));</span><br></pre></td></tr></table></figure>
<p>运行结果如下图：<img src='/uploads/indexof.png'><font color=red>lastIndexOf()</font>：从字符串的结尾开始检索子串，并返回其位置，否则返回-1；<br>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> msg = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">"hello MaxSoft"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(msg.lastIndexOf(<span class="string">'M'</span>));</span><br></pre></td></tr></table></figure>
<p>运行结果如下图：<img src='/uploads/lastindexof.png'><font color=red>localeCompare()</font>：对字符串进行排序；<br/>如果 String 对象按照字母顺序排在参数中的字符串之前，返回负数。<br>如果 String 对象等于参数中的字符串，返回 0<br>如果 String 对象按照字母顺序排在参数中的字符串之后，返回正数。<br>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> msg = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">"hello MaxSoft"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(msg.localeCompare(<span class="string">'america'</span>));</span><br><span class="line"><span class="built_in">console</span>.log(msg.localeCompare(<span class="string">'hello MaxSoft'</span>));</span><br><span class="line"><span class="built_in">console</span>.log(msg.localeCompare(<span class="string">'university'</span>));</span><br></pre></td></tr></table></figure>
<p>运行结果如下图：<img src='/uploads/localecompare.png'><font color=red>slice() 和 substring()</font>：这两种方法从子串创建字符串值，即 slice() 和 substring()。这两种方法返回的都是要处理的字符串的子串，都接受一个或两个参数。第一个参数是要获取的子串的起始位置，第二个参数（如果使用的话）是要获取子串终止前的位置（也就是说，获取终止位置处的字符不包括在返回的值内）。如果省略第二个参数，终止位就默认为字符串的长度。与 concat() 方法一样，slice() 和 substring() 方法都不改变 String 对象自身的值。它们只返回原始的 String 值，保持 String 对象不变。对于负数参数，slice() 方法会用字符串的长度加上参数，substring() 方法则将其作为 0 处理（也就是说将忽略它）。<br>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> msg = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">"hello MaxSoft"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(msg.slice(<span class="number">5</span>));</span><br><span class="line"><span class="built_in">console</span>.log(msg.slice(<span class="number">-5</span>));</span><br><span class="line"><span class="built_in">console</span>.log(msg.substring(<span class="number">2</span>,<span class="number">5</span>));</span><br><span class="line"><span class="built_in">console</span>.log(msg.substring(<span class="number">0</span>,<span class="number">5</span>));</span><br></pre></td></tr></table></figure>
<p>运行结果如下图：<img src='/uploads/slice_substring.png'><font color=red>toLowerCase()、toLocaleLowerCase()、toUpperCase() 和 toLocaleUpperCase()</font>：这4 种方法用于执行大小写转换。前两种方法用于把字符串转换成全小写的，后两种方法用于把字符串转换成全大写的；<br/>toLowerCase() 和 toUpperCase() 方法是原始的，是以 java.lang.String 中相同方法为原型实现的。<br/>toLocaleLowerCase() 和 toLocaleUpperCase() 方法是基于特定的区域实现的（与 localeCompare() 方法相同）<br>示例代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> msg = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">"hello MaxSoft"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(msg.toLocaleUpperCase());</span><br><span class="line"><span class="built_in">console</span>.log(msg.toUpperCase());	</span><br><span class="line"><span class="built_in">console</span>.log(msg.toLocaleLowerCase());</span><br><span class="line"><span class="built_in">console</span>.log(msg.toLowerCase());</span><br></pre></td></tr></table></figure>
<p>运行结果如下图：<img src='/uploads/low_up.png'></p>
<p>参阅 <a href="http://www.w3school.com.cn/js/pro_js_implement.asp" target="_blank" rel="noopener">W3C School</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/06/10/JavaScript%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%865/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/apple-touch-icon-next.png">
      <meta itemprop="name" content="maxsoft">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MaxSoft">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2015/06/10/JavaScript%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%865/" class="post-title-link" itemprop="url">JavaScript基础知识整理<五>-笔记</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表时间</span>

              <time title="创建时间：2015-06-10 20:13:21" itemprop="dateCreated datePublished" datetime="2015-06-10T20:13:21+08:00">2015-06-10</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>
            </span>

          
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>3.6k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>3 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;上一节我们总结了 ECMAScript 语言的数据类型，今天主要总结 ECMAScript 语言的数据类型相关的转换过程。<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;计算机程序设计语言其重要的特征之一就是具有类型转换的能力。ECMAScript 也不例外，它给我们提供了大量简单的类型转换方法。多数类型具有进行简单转换的方法，还有几个全局方法可以用于更复杂的转换。无论哪种情况，在 ECMAScript 语言中，类型转换都是相对简短的一步操作。</p>
<h2 id="转换为字符串"><a href="#转换为字符串" class="headerlink" title="转换为字符串"></a>转换为字符串</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ECMAScript 语言中的 Boolean 值、数字和字符串的原始值的都是「伪对象」，这意味着它们实际上具有属性和方法。示例代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name=<span class="string">"MaxSoft"</span>;</span><br><span class="line"><span class="keyword">var</span> age=<span class="number">24</span>;</span><br><span class="line"><span class="keyword">var</span> isMan=<span class="literal">true</span>;</span><br><span class="line"><span class="keyword">var</span> birthday = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'1992-01-01'</span>);</span><br><span class="line"><span class="keyword">var</span> like = [<span class="string">'football'</span>,<span class="string">'baskedball'</span>,<span class="string">'cumputer'</span>];</span><br><span class="line"><span class="keyword">var</span> attr = &#123;<span class="attr">id</span>:<span class="string">'0001'</span>,<span class="attr">code</span>:<span class="string">'MaxSoft'</span>,<span class="attr">des</span>:<span class="string">'This is my code'</span>&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(name.toString());</span><br><span class="line"><span class="built_in">console</span>.log(age.toString());</span><br><span class="line"><span class="built_in">console</span>.log(age.toString(<span class="number">2</span>)); <span class="comment">//指定转换2进制模式</span></span><br><span class="line"><span class="built_in">console</span>.log(age.toString(<span class="number">8</span>)); <span class="comment">//指定转换为8进制模式</span></span><br><span class="line"><span class="built_in">console</span>.log(age.toString(<span class="number">16</span>)); <span class="comment">//指定转换为16进制模式</span></span><br><span class="line"><span class="built_in">console</span>.log(isMan.toString());</span><br><span class="line"><span class="built_in">console</span>.log(birthday.toString());</span><br><span class="line"><span class="built_in">console</span>.log(like.toString());</span><br><span class="line"><span class="built_in">console</span>.log(attr.toString());</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<img src='/uploads/tostring.png' /><br><font color=red><b>注意：</b>Number 类型的 toString() 方法比较特殊，它有两种模式，即默认模式和基模式。</font></br><font color=red>默认模式</font>：toString() 方法只是用相应的字符串输出数字值（无论是整数、浮点数还是科学计数法）；<br/><font color=red>基模式</font>：可以用不同的基输出数字，例如二进制的基是 2，八进制的基是 8，十六进制的基是 16。</p>
<h2 id="转换为数字"><a href="#转换为数字" class="headerlink" title="转换为数字"></a>转换为数字</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ECMAScript 语言提供了两种把非数字的原始值转换成数字的方法，即 parseInt() 和 parseFloat()。前者是把值转换成整数，后者是把值转换成浮点数。只有对 String 类型调用这些方法，它们才能正确运行；对其他类型返回的则是 NaN。</p>
<h3 id="parseInt"><a href="#parseInt" class="headerlink" title="parseInt()"></a>parseInt()</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; parseInt() 方法首先查看位置 0 处的字符，判断它是否是个有效数字；如果不是，该方法将返回 NaN，不再继续执行其他操作。但如果该字符是有效数字，该方法将查看位置 1 处的字符，进行同样的测试。这一过程将持续到发现非有效数字的字符为止，此时 parseInt() 将把该字符之前的字符串转换成数字。<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; parseInt() 方法也有基模式，可以把二进制、八进制、十六进制或其他任何进制的字符串转换成整数。基是由 parseInt() 方法的第二个参数指定的。<br>具体代码示例如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(<span class="string">"24MaxSoft"</span>));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(<span class="string">"0xA"</span>));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(<span class="string">"56.5"</span>));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(<span class="string">"MaxSoft"</span>));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(<span class="string">"24"</span>, <span class="number">2</span>));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(<span class="string">"11000"</span>, <span class="number">2</span>));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(<span class="string">"30"</span>, <span class="number">8</span>));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseInt</span>(<span class="string">"18"</span>, <span class="number">16</span>));</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<img src='/uploads/parseint.png'></p>
<h3 id="parseFloat"><a href="#parseFloat" class="headerlink" title="parseFloat()"></a>parseFloat()</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; parseFloat() 方法与 parseInt() 方法的处理方式相似，从位置 0 开始查看每个字符，直到找到第一个非有效的字符为止，然后把该字符之前的字符串转换成整数。<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; parseFloat() 方法的另一不同之处在于，字符串必须以十进制形式表示浮点数，而不是用八进制或十六进制。该方法会忽略前导 0，所以八进制数 0102 将被解析为 102。对于十六进制数 0xA，该方法将返回 NaN 或 0，因为在浮点数中，x 不是有效字符。此外，parseFloat() 方法也没有基模式。<br>示例代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseFloat</span>(<span class="string">"24MaxSoft"</span>));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseFloat</span>(<span class="string">"0xAB"</span>));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseFloat</span>(<span class="string">"56.7"</span>));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseFloat</span>(<span class="string">"56.22.33"</span>));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseFloat</span>(<span class="string">"01067"</span>));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseFloat</span>(<span class="string">"red"</span>));</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<img src='/uploads/parsefloat.png' /></p>
<h2 id="强制类型转换"><a href="#强制类型转换" class="headerlink" title="强制类型转换"></a>强制类型转换</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ECMAScript 语言中提供了多种类型的强制类型转换方式。分别是 Boolean(value)，Number(value)，String(value) ；使用这些函数之一转换值，将创建一个新值，存放由原始值直接转换成的值。</p>
<h3 id="Boolean-函数"><a href="#Boolean-函数" class="headerlink" title="Boolean() 函数"></a>Boolean() 函数</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;当要转换的值是至少有一个字符的字符串、非 0 数字或对象时，Boolean() 函数将返回 true。如果该值是空字符串、数字 0、undefined 或 null，它将返回 false。示例代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Boolean</span>(<span class="string">""</span>));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Boolean</span>(<span class="string">"hello"</span>));	</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Boolean</span>(<span class="number">50</span>));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Boolean</span>(<span class="literal">null</span>));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Boolean</span>(<span class="number">0</span>));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Boolean</span>(<span class="keyword">new</span> <span class="built_in">Object</span>()));</span><br></pre></td></tr></table></figure>
<p>运行结果如下图：<img src='/uploads/boolean_.png'/></p>
<h3 id="Number-函数"><a href="#Number-函数" class="headerlink" title="Number() 函数"></a>Number() 函数</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Number() 函数的强制类型转换与 parseInt() 和 parseFloat() 方法的处理方式相似，只是它转换的是整个值，而不是部分值。<br>示例代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="literal">false</span>));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="literal">true</span>));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="literal">undefined</span>));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="literal">null</span>));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="string">"1.2"</span>));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="string">"12"</span>));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="string">"1.2.3"</span>));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="keyword">new</span> <span class="built_in">Object</span>()));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="number">50</span>));</span><br></pre></td></tr></table></figure>
<p>运行结果如下图所示：<img src='/uploads/number_.png'/></p>
<h3 id="String-函数"><a href="#String-函数" class="headerlink" title="String() 函数"></a>String() 函数</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;强制类型转换方法 String() 是最简单的，因为它可把任何值转换成字符串。要执行这种强制类型转换，只需要调用作为参数传递进来的值的 toString() 方法。强制转换成字符串和调用 toString() 方法的唯一不同之处在于，对 null 和 undefined 值强制类型转换可以生成字符串而不引发错误。示例代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="built_in">String</span>(<span class="string">"maxsoft"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(name);</span><br><span class="line"><span class="keyword">var</span> name_0 = <span class="built_in">String</span>(<span class="literal">null</span>);</span><br><span class="line"><span class="built_in">console</span>.log(name_0);</span><br><span class="line"><span class="keyword">var</span> sex = <span class="literal">null</span>;</span><br><span class="line"><span class="built_in">console</span>.log(sex);</span><br><span class="line"><span class="keyword">var</span> sex_0 = sex.toString();</span><br><span class="line"><span class="built_in">console</span>.log(sex_0);</span><br></pre></td></tr></table></figure>
<p>运行结果如下图：<img src='/uploads/string_.png' /><br>参阅 <a href="http://www.w3school.com.cn/js/pro_js_implement.asp" target="_blank" rel="noopener">W3C School</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/06/08/JavaScript%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%864/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/apple-touch-icon-next.png">
      <meta itemprop="name" content="maxsoft">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MaxSoft">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2015/06/08/JavaScript%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%864/" class="post-title-link" itemprop="url">JavaScript基础知识整理<四>-笔记</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表时间</span>

              <time title="创建时间：2015-06-08 20:43:22" itemprop="dateCreated datePublished" datetime="2015-06-08T20:43:22+08:00">2015-06-08</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>
            </span>

          
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>4.2k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>4 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 今天主要总结 ECMAScript 语言的值类型。 在 ECMAScript 语言中，变量可以存储两种类型的值，即原始类型值和引用类型值。<font color=red>在 ECMAScript 提供了 typeof 运算符来判断一个值是某种类型</font>。如果它是原始类型，还可以判断它表示哪种原始类型。 typeof 方法的参数可以是变量名也可以是具体的值。如下</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name=<span class="string">"MaxSoft"</span>;</span><br><span class="line"><span class="keyword">var</span> age=<span class="number">24</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span>(name));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span>(age));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span>(<span class="string">"Hello, MaxSoft!"</span>));</span><br></pre></td></tr></table></figure>
<p>运行结果如下图：<img src='/uploads/typeof_fun.png'></p>
<h2 id="原始值"><a href="#原始值" class="headerlink" title="原始值"></a>原始值</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;原始值是指存储在栈（stack）中的简单数据段，也就是说，它们的值直接存储在变量访问的位置。ECMAScript 有 5 种原始类型（primitive type），即 <font color=red>Undefined</font>、<font color=red>Null</font>、<font color=red>Boolean</font>、<font color=red>Number</font> 和 <font color=red>String</font>。值得注意的是在 Java, C++ 语言中， String（字符串）都被当作引用类型，而非原始类型，因为 String（字符串）的长度是可变的。但是，在ECMAScript 语言中打破了这一传统。</p>
<h3 id="Undefined-类型"><a href="#Undefined-类型" class="headerlink" title="Undefined 类型"></a>Undefined 类型</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Undefined 的类型只有一个值，即 undefined。当声明的变量没有初始化时，该变量的默认值就是 undefined。<br>我们来看如下示例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> temp;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> temp);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"temp="</span> + temp);</span><br><span class="line"><span class="built_in">console</span>.log(temp == <span class="literal">undefined</span>);</span><br></pre></td></tr></table></figure>
<p>以上代码运行结果如下：<img src='/uploads/undefined_0.png'>通过以上代码运行的结果可以看到，声明变量 temp 没有初始化值时，该变量将被赋予值 undefined。<br><font color=red><b>注意：</b>值 undefined 并不同于未定义的值。但是，由于 typeof 的特殊性，该运算符并不真正区分这两种值。</font>示例如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> temp;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span>(temp));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span>(temp_0)); <span class="comment">// 处理未申明的变量</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(fn()); <span class="comment">// 查看没有返回值的函数的返回值</span></span><br><span class="line"><span class="keyword">if</span>(temp_0)&#123; <span class="comment">// 对于没有申明的变量进行使用时会发生怎么样的结果？</span></span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">'Hello MaxSoft.'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>以上代码运行结果如下图<img src='/uploads/undefined_1.png'>通过以上运行结果可以看到，<font color=red>即使变量 temp_0 从未被声明过，依然可以使用 typeof 来进行运算，函数没有返回值时其返回值也是 undefined 。如果对 temp_0 使用除 typeof 之外的其他运算符的话，则会引起错误。这也是我们在编写 ECMAScript 代码的时候，为什么要在变量不确定的地方使用 typeof 来进行处理的原因；</font></p>
<h3 id="Null-类型"><a href="#Null-类型" class="headerlink" title="Null 类型"></a>Null 类型</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Null类型只有一个值 null。值 undefined 实际上是从值 null 派生来的，因此在 ECMAScript 中这两个值是相等的。示例代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> temp = <span class="literal">null</span>; <span class="comment">// 该对象为空值，即没有任何内容</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(temp);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> temp);</span><br><span class="line"><span class="built_in">console</span>.log(fn());</span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">null</span> == <span class="literal">undefined</span>);</span><br><span class="line"><span class="built_in">console</span>.log(temp == <span class="literal">undefined</span>);</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<img src='/uploads/undefined_2.png'>通过上面的运行结果我们可以理解，<font color=red>尽管这两个值相等，但它们的含义不同。undefined 是声明了变量但未对其初始化时赋予该变量的值，null 则用于表示对象为空。如果函数或方法要返回的是对象，那么该对象为空时，则返回 null。</font></p>
<h3 id="Boolean-类型"><a href="#Boolean-类型" class="headerlink" title="Boolean 类型"></a>Boolean 类型</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Boolean 类型是多数编程语言中常见的类型之一，ECMAScript 语言也不例外。Boolean 类型有两个值 true 和 false。示例代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> isExists = <span class="literal">false</span>;</span><br><span class="line"><span class="built_in">console</span>.log(isExists);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">false</span> === <span class="number">0</span>); <span class="comment">// 不进行类型转换，直接比较其值（后面总结）</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">false</span> == <span class="number">0</span>); <span class="comment">// 默认转换类型后，进行比较值</span></span><br><span class="line"><span class="built_in">console</span>.log(!<span class="number">0</span>);</span><br><span class="line"><span class="built_in">console</span>.log(!<span class="number">1</span>);</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<img src='/uploads/boolean.png' />通过以上运行结果我们值的注意的是，即使 false 不等于 0，0 也可以在必要时被转换成 false，这样在 Boolean 语句中使用两者都是安全的。<br><font color=red><b>注意：</b>=== 表示恒等，首先比较两边的变量数据类型是否相等，其次比较两边的变量的数值是否相等；== 表示相等即仅仅比较两边变量的数值是否相等；（后面详细总结）</font></p>
<h3 id="Number-类型"><a href="#Number-类型" class="headerlink" title="Number 类型"></a>Number 类型</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Number 类型在 ECMAScript 语言中是相对比较特殊的类型。该类型既可以表示 32 位的整数，还可以表示 64 位的浮点数。在 ECMAScript 语言中直接输入的任何数字都被看做 Number 类型的值。示例代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> age=<span class="number">26</span>;</span><br><span class="line"><span class="keyword">var</span> height=<span class="number">168</span>;</span><br></pre></td></tr></table></figure>
<p><font color=red>八进制</font>：首数字必须是 0，其后的数字可以是任何八进制数字（0-7）<br><font color=red>十六进制</font>：首位数字必须为 0，后面接字母 x，然后是任意的十六进制数字（0 到 9 和 A 到 F）<br><font color=red>浮点数</font>：必须包括小数点和小数点后的一位数字（例如，用 1.0 而不是 1）<br><font color=red>科学计数法</font>：科学计数法即把一个数表示为数字（包括十进制数字）加 e（或 E），后面加乘以 10 的倍数<br><font color=red><b>注意：</b>尽管所有整数都可以表示为八进制或十六进制的字面量，但所有数学运算返回的都是十进制结果。十六进制字母可以是大写的，也可以是小写的。</font><br>示例代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> age = <span class="number">24</span>;</span><br><span class="line"><span class="built_in">console</span>.log(age);</span><br><span class="line"><span class="keyword">var</span> age_0 = <span class="number">030</span>;  <span class="comment">// 060 等于十进制的 24</span></span><br><span class="line"><span class="built_in">console</span>.log(age_0);</span><br><span class="line"><span class="keyword">var</span> age_1 = <span class="number">0x18</span>;  <span class="comment">// 0x1e 等于十进制的 24</span></span><br><span class="line"><span class="built_in">console</span>.log(age_1);</span><br><span class="line"><span class="keyword">var</span> age_2 = <span class="number">0xA5</span>;  <span class="comment">// 0xA5 等于十进制的 165</span></span><br><span class="line"><span class="built_in">console</span>.log(age_2);</span><br><span class="line"><span class="keyword">var</span> num_0 = <span class="number">5.0</span>; <span class="comment">// 浮点数</span></span><br><span class="line"><span class="built_in">console</span>.log(num_0);</span><br><span class="line"><span class="keyword">var</span> num_1 = <span class="number">3.1415e7</span> <span class="comment">// 科学计数法</span></span><br><span class="line"><span class="built_in">console</span>.log(num_1);</span><br></pre></td></tr></table></figure>
<p>运行结果如下：<img src='/uploads/number.png' /></p>
<h4 id="特殊的-Number-值"><a href="#特殊的-Number-值" class="headerlink" title="特殊的 Number 值"></a>特殊的 Number 值</h4><p><font color=red>Number.MAX_VALUE</font> 和 <font color=red>Number.MIN_VALUE</font> 定义了 Number 值集合的外边界。<br>当计算生成的数大于 Number.MAX_VALUE 时，它将被赋予值 Number.POSITIVE_INFINITY，意味着不再有数字值。<br><font color=red>Number.POSITIVE_INFINITY</font> 和 <font color=red>Number.NEGATIVE_INFINITY</font>  定义了 Number 值的正无穷大和负无穷大。<br>当计算生成的数小于 Number.MIN_VALUE 时，它将被赋予值 Number.NEGATIVE_INFINITY，意味着不再有数字值。<br><font color=red>NaN</font> 表示非数（Not a Number）。NaN 是个奇怪的特殊值。一般说来，这种情况发生在类型（String、Boolean 等）转换失败时。例如，要把单词 blue 转换成数值就会失败，因为没有与之等价的数值。与无穷大一样，NaN 也不能用于算术计算。NaN 的另一个奇特之处在于，它与自身不相等。<br>示例代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log( <span class="literal">NaN</span> == <span class="literal">NaN</span> ); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(<span class="string">"red"</span>));  <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(<span class="string">"888"</span>));  <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<p>运行结果如下：<img src='/uploads/nan.png'/></p>
<h3 id="String-类型"><a href="#String-类型" class="headerlink" title="String 类型"></a>String 类型</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String 类型是唯一没有固定大小的原始类型。可以用字符串存储 0 或更多的 Unicode 字符，有 16 位整数表示（Unicode 是一种国际字符集，本教程后面将讨论它）。字符串中每个字符都有特定的位置，首字符从位置 0 开始，第二个字符在位置 1，依此类推。这意味着字符串中的最后一个字符的位置一定是字符串的长度减 1，如下图：<img src='/uploads/string.gif'/><br>字符串字面量是由双引号（”）或单引号（’）声明的。但是由于 ECMAScript 没有字符类型，所以可使用这两种表示法中的任何一种。示例如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name=<span class="string">"MaxSoft"</span>;</span><br><span class="line"><span class="keyword">var</span> msg=<span class="string">'Hello MaxSoft'</span>;</span><br></pre></td></tr></table></figure>
<p>ECMAScript中转义符列表如下：<img src='/uploads/string_0.png' /></p>
<h2 id="引用值"><a href="#引用值" class="headerlink" title="引用值"></a>引用值</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;引用值是指存储在堆（heap）中的对象，也就是说，存储在变量处的值是一个指针（point），指向存储对象的内存处。<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ECMAScript 语言为变量赋值时，ECMAScript 的解释程序必须判断该值是原始类型，还是引用类型。要实现这一点，解释程序则需尝试判断该值是否为 ECMAScript 的原始类型之一，即 <font color=red>Undefined</font>、<font color=red>Null</font>、<font color=red>Boolean</font>、<font color=red>Number</font> 和 <font color=red>String</font>。由于这些原始类型占据的空间是固定的，所以可将他们存储在较小的内存区域 - 栈中。这样存储便于迅速查寻变量的值。<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;如果一个值是引用类型的，那么它的存储空间将从堆中分配。由于引用值的大小会改变，所以不能把它放在栈中，否则会降低变量查寻的速度，影响程序的效率。相反，放在变量的栈空间中的值是该对象存储在堆中的地址。地址的大小是固定的，所以把它存储在栈中对变量性能无任何负面影响。如下图所示：<img src='/uploads/heap_stack.png'></p>
<p>参阅 <a href="http://www.w3school.com.cn/js/pro_js_implement.asp" target="_blank" rel="noopener">W3C School</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/06/07/JavaScript%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%863/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/apple-touch-icon-next.png">
      <meta itemprop="name" content="maxsoft">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MaxSoft">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2015/06/07/JavaScript%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%863/" class="post-title-link" itemprop="url">JavaScript基础知识整理<三>-笔记</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表时间</span>

              <time title="创建时间：2015-06-07 14:23:02" itemprop="dateCreated datePublished" datetime="2015-06-07T14:23:02+08:00">2015-06-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>
            </span>

          
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>2 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;上一章节总结了 ECMAScript 的语法结构，今天主要总结 ECMAScript 变量以及关键字和保留关键字。</p>
<h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ECMAScript 语言使用 var 运算符声明变量。变量名需要遵守一些简单的规则。</p>
<h3 id="变量申明"><a href="#变量申明" class="headerlink" title="变量申明"></a>变量申明</h3><p>ECMAScript 中的变量是用 var 运算符（variable 的缩写）加变量名进行定义。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">"MaxSoft"</span>;</span><br><span class="line"><span class="keyword">var</span> age = <span class="number">24</span>;</span><br><span class="line"><span class="keyword">var</span> sex = <span class="literal">false</span>;</span><br></pre></td></tr></table></figure>
<p>在这个例子中，声明了变量 name , age , sex 并进行了相对应的初始化值操作。由于 ECMAScript 是弱类型语言，所以解释程序会为变量自动创建对应的初始化值数据类型，无需明确的类型声明。<br>我们还可以通过 var 同时定义多个变量名，如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">"MaxSoft"</span>, age = <span class="number">24</span>, sex = <span class="literal">false</span>, msg;</span><br></pre></td></tr></table></figure>
<p>通过上面的例子我们发现用同一个 var 语句定义的变量不具有相同的类型也是可以的。与 Java 不同，ECMAScript 中的变量并不一定要初始化（例如上面例子中的 msg 就没有初始化值）。</p>
<h3 id="变量命名"><a href="#变量命名" class="headerlink" title="变量命名"></a>变量命名</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ECMAScript 语言申明变量名和 Java 语言一样，需要遵守以下两条简单的规则（必须）：<br>1&gt; 首字符必须是字母、下划线（_）或美元符号（$）<br>2&gt; 除首字母外的其他字符可以是下划线、美元符号或任何字母或数字字符</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">"MaxSoft"</span>;</span><br><span class="line"><span class="keyword">var</span> _name_1 = <span class="string">"MaxSoft"</span>;</span><br><span class="line"><span class="keyword">var</span> $sex = <span class="literal">false</span>;</span><br></pre></td></tr></table></figure>
<p> ECMAScript 的变量名命名规则和 Java , C++ 等语言类似，都有以下著名的命名规则：<br> 1&gt; <font color=red>Camel 标记法（驼峰标记法） ：</font>首字母是小写的，接下来的字母都以大写字符开头。例如：<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> isExist = <span class="literal">false</span>;</span><br></pre></td></tr></table></figure><br> 2&gt; <font color=red>Pascal 标记法（帕斯卡标记法）：</font>首字母是大写的，接下来的字母都以大写字符开头。例如：<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> IsExist = <span class="literal">false</span>, Name = <span class="string">"MaxSoft"</span>, BeginDate = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'2014-07-01'</span>);</span><br></pre></td></tr></table></figure><br>3&gt; <font color=red>匈牙利类型标记法：</font>在以 Pascal 标记法命名的变量前附加一个小写字母（或小写字母序列），说明该变量的类型。例如，i 表示整数，s 表示字符串等，如下所示：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> bIsExist = <span class="literal">false</span>;  <span class="comment">// b 表示 boolean 类型</span></span><br><span class="line"><span class="keyword">var</span> sName = <span class="string">"MaxSoft"</span>; <span class="comment">// s 表示字符串类型</span></span><br><span class="line"><span class="keyword">var</span> iAge = <span class="number">24</span>; <span class="comment">// i 表示数字整型类型</span></span><br></pre></td></tr></table></figure>
<p>如下为匈牙利类型标记法常用的前缀：<img src='/uploads/var_name_reg.png'> ECMAScript 语言另一个比较神奇的方面就是在使用变量之前可以不申明，直接使用。如下所示：<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name  = <span class="string">"MaxSoft"</span>;</span><br><span class="line">hello_msg = <span class="string">"Hello, "</span> + name;</span><br><span class="line"><span class="built_in">console</span>.log(hello_msg);</span><br></pre></td></tr></table></figure><br> 以上示例的运行结果如下所示：<img src='/uploads/hello_msg_res.png'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在 ECMAScript 的解释器中遇到未声明的标识符时，用该变量名创建一个全局变量，并将其初始化为指定的值。这是 ECMAScript 语言的便利之处，但是这种做法相对比较不可取，最好的习惯是像使用其他程序设计语言一样，在使用变量前，进行必要的申明。</p>
<h2 id="关键字"><a href="#关键字" class="headerlink" title="关键字"></a>关键字</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ECMAScript 语言中的关键字大部分都和 Java, C++ 等程序设计语言类似，都包含以下关键字：<img src='/uploads/key_word.png'> 在 ECMAScript 语言中关键字也是不能被当做变量名来使用。如下：<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="keyword">delete</span>=<span class="number">3</span>;</span><br><span class="line"><span class="keyword">var</span> <span class="keyword">break</span>=<span class="string">"MaxSoft"</span>;</span><br></pre></td></tr></table></figure><br> 运行结果如下图：<br> Google Chrome<img src='/uploads/key_word_exce.png'>IE9<img src='/uploads/key_word_exce_ie.png'>从以上俩种异常运行结果可以看到由于每种浏览器的 ECMAScript 语言解释器不同，所以抛出的异常信息可能不太一样，但是最终的意义都是一样的。</p>
<h2 id="保留关键字"><a href="#保留关键字" class="headerlink" title="保留关键字"></a>保留关键字</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在 ECMAScript 语言中保留了很多 Java, C++ 中的关键字，其在某种意义上就是为将来的关键字而保留的单词。因此保留字不建议被用作变量名或函数名，以免在将来的 ECMAScript 语言中实现了被保留的关键字而发生不必要的异常问题。被保留关键字列表如下：<br><img src='/uploads/key_word_protect.png' /></p>
<p><font color=red><b>注意：</b>如果将保留字用作变量名或函数名，那么除非将来的浏览器实现了该保留字，否则很可能收不到任何错误消息。当浏览器将其实现后，该单词将被看做关键字，如此将出现关键字错误。</font></p>
<p>参阅 <a href="http://www.w3school.com.cn/js/pro_js_implement.asp" target="_blank" rel="noopener">W3C School</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/06/06/JavaScript%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%862/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/apple-touch-icon-next.png">
      <meta itemprop="name" content="maxsoft">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MaxSoft">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2015/06/06/JavaScript%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%862/" class="post-title-link" itemprop="url">JavaScript基础知识整理<二>-笔记</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表时间</span>

              <time title="创建时间：2015-06-06 20:23:02" itemprop="dateCreated datePublished" datetime="2015-06-06T20:23:02+08:00">2015-06-06</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>
            </span>

          
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.8k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>2 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;昨天主要整理了 JavaScript 语言的历史渊源，以及其相关的组织部分。从今天开始主要总结一些 JavaScript 核心 ECMAScript 基础的语法知识，其实 ECMAScript 的语法结构和 Java 、C++ 等有许多相似之处。因为 ECMAScript 语言的设计者在当初设计该语言的时候借鉴了这些语言的相关语法结构。所以学习过 Java、C++ 的同学都比较相对容易的掌握其语法结构，笔者就是其中之一 O<sub>S</sub>O ……</p>
<h2 id="语法结构"><a href="#语法结构" class="headerlink" title="语法结构"></a>语法结构</h2><p>1&gt; <font color=red>区分大小写</font>：和 Java 语言一样，变量、函数名、运算符以及其他一切内容都是区分大小写的；</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">"MaxSoft"</span>;</span><br><span class="line"><span class="keyword">var</span> age = <span class="number">25</span>;</span><br><span class="line"><span class="keyword">var</span> sex = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">var</span> birthday = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'1992-03-13'</span>);</span><br></pre></td></tr></table></figure>
<p>2&gt; <font color=red>变量为弱类型</font>：和 Java 、C++ 等语言不同，ECMAScript 的变量没有特定的数据类型。定义变量时只用 var 运算符，可以将变量初始化为任意值。因此，在程序运行过程中可以随时改变变量所存储的数据类型；</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doAction</span>(<span class="params">flag</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line">	<span class="keyword">if</span>(flag==<span class="number">1</span>)&#123;</span><br><span class="line">		obj = &#123;<span class="attr">name</span>:<span class="string">'MaxSoft'</span>,<span class="attr">age</span>:<span class="number">24</span>,<span class="attr">sex</span>:<span class="literal">false</span>&#125;</span><br><span class="line">	&#125;<span class="keyword">else</span> <span class="keyword">if</span>(flag ==<span class="number">2</span>)&#123;</span><br><span class="line">		obj = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">			<span class="built_in">console</span>.log(<span class="string">"系统异常"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		obj();</span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		obj = <span class="string">"参数无效"</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="keyword">typeof</span>(obj));</span><br><span class="line">	<span class="built_in">console</span>.log(obj);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>以上代码执行结果如下图：<img src='/uploads/dynamic_type.png'><br>3&gt; <font color=red>行结束分号可有可无</font>：Java、C++ 等都要求每行代码以分号（;）结束才符合语法，而 ECMAScript 语法结构无该要求。出于 ECMAScript 程序代码的可读性与后期的可维护性，建议在编写 ECMAScript 程序时，尽量在该增加行结束标识的时候都加上结束标识符分号（;），养成一个良好的代码编写习惯。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name=<span class="string">"MaxSoft"</span></span><br><span class="line"><span class="keyword">var</span> age=<span class="number">24</span>;</span><br></pre></td></tr></table></figure>
<p>4&gt; <font color=red>注释</font>：和 Java 语言的注释类似，有俩种：一种是单行注释（// 注释内容）； 一种是多行注释（/<em>注释内容</em>/）；</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name=<span class="string">"MaxSoft"</span>; <span class="comment">// 声明姓名字段并初始化内容</span></span><br><span class="line"><span class="comment">/*获取Name字段的值*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getName</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>5&gt; <font color=red>括号表示代码块</font>：从 Java 中借鉴的又一个概念是代码块。代码块表示一系列应该按顺序执行的语句，这些语句被封装在左花括号（{）和右花括号（}）之间；</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doLogin</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(<span class="keyword">typeof</span>(data)==<span class="string">'undefined'</span> || data == <span class="literal">null</span>)&#123;</span><br><span class="line">		<span class="built_in">console</span>.error(<span class="string">'表单数据为空，请检查'</span>);</span><br><span class="line">	&#125;<span class="keyword">else</span> <span class="keyword">if</span>( <span class="keyword">typeof</span>(data)==<span class="string">'object'</span> )&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">'解析登录表单数据'</span>);</span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">'数据类型有误....'</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="代码实例"><a href="#代码实例" class="headerlink" title="代码实例"></a>代码实例</h2><p>通过以下代码片段我们就可以更加直观的了解 ECMAScript 的语法结构。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hello</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">var</span> msg = <span class="string">"你好，"</span>; <span class="comment">// 申明字符串</span></span><br><span class="line">	<span class="keyword">var</span> age = <span class="number">24</span>; <span class="comment">//申明数字类型变量</span></span><br><span class="line">	alert(<span class="string">"姓名："</span>+name + <span class="string">"; 年龄："</span> + age);</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">"姓名："</span>+name + <span class="string">"; 年龄："</span> + age);</span><br><span class="line">	<span class="keyword">return</span> msg + name;</span><br><span class="line">&#125;</span><br><span class="line">hello(<span class="string">'MaxSoft'</span>);</span><br></pre></td></tr></table></figure>
<p>以上代码执行后，通过 hello(‘MaxSoft’); 调用执行，结果如下：<br>1&gt; 首先会弹出一个弹框<img src='/uploads/hello_res.png'>2&gt; 在浏览器的控制台会输出 ：姓名：MaxSoft; 年龄：24<br>3&gt; 方法的返回值为：”你好，MaxSoft”</p>
<p><font color=red><b>注意：</b>以上代码的执行环境为 Google Chrome 浏览器；</font></p>
<p>参阅 <a href="http://www.w3school.com.cn/js/pro_js_implement.asp" target="_blank" rel="noopener">W3C School</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/06/05/JavaScript%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%861/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/apple-touch-icon-next.png">
      <meta itemprop="name" content="maxsoft">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MaxSoft">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2015/06/05/JavaScript%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%861/" class="post-title-link" itemprop="url">JavaScript基础知识整理<一>-笔记</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表时间</span>

              <time title="创建时间：2015-06-05 22:23:02" itemprop="dateCreated datePublished" datetime="2015-06-05T22:23:02+08:00">2015-06-05</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>
            </span>

          
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.8k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>3 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;从大学开始学习Web编程到现在对JavaScript这门神奇的语言始终是用的时候拿来用，不用的时候也不去总结学习，用唐代李节《饯潭州疏言禅师诣太原求藏经诗序》中的一句名句总结就是“知其然而不知其所以然”。最近的[外包管理系统]项目基本都在使用其来开发Web页面效果以及用户的交互（有的功能需求确实会觉得Hold不住），正好借今天是周五的时间，（明天可以睡个懒觉A<sub>W</sub>A）来系统的做一个整理总结，以备更深层次的学习和使用。</p>
<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JavaScript最初由 Netscape 和 Sun公司共同推出的在浏览器和服务器（原名叫 LiveWire）端使用的脚本语言。在1997 年，JavaScript 1.1 作为一个草案提交给欧洲计算机制造商协会（ECMA）。第 39 技术委员会（TC39）被委派来“标准化一个通用、跨平台、中立于厂商的脚本语言的语法和语义”（ <a href="http://www.ecma-international.org/memento/TC39.htm" target="_blank" rel="noopener">http://www.ecma-international.org/memento/TC39.htm</a> ）。由来自 Netscape、Sun、微软、Borland 和其他一些对脚本编程感兴趣的公司的程序员组成的 TC39 锤炼出了 ECMA-262，该标准定义了名为 ECMAScript 的全新脚本语言。<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在接下来的几年里，国际标准化组织及国际电工委员会（ISO/IEC）也采纳 ECMAScript 作为标准（ISO/IEC-16262）。从此，Web 浏览器就开始努力（虽然有着不同的程度的成功和失败）将 ECMAScript 作为 JavaScript 实现的基础。<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;最终，JavaScript的实现是以ECMAScript（语法，对象）、浏览器对象模型（BOM）、文档对象模型（DOM）组合而成，如下图所示：<br><img src='/uploads/JavaScript.gif'></p>
<p> 1&gt; <font color=red>ECMAScript</font> ：描述了该语言的语法、类型、语句、关键字、保留字、运算符、基本对象等；<br> 2&gt; <font color=green>文档对象模型（DOM）</font>：描述了处理网页内容的方法和接口，例如：视图、事件、样式、遍历和范围、可缩放矢量语言（SVG）、数字标记语言（MathML）、同步多媒体集成语言（SMIL）等；<br> 3&gt; <font color=blue>浏览器对象模型（BOM）</font>：描述了与浏览器进行交互的方法和接口，例如：弹出新的浏览器窗口，移动、关闭浏览器窗口以及调整窗口大小，提供 Web 浏览器详细信息的定位对象，提供用户屏幕分辨率详细信息的屏幕对象，对 cookie 的支持等；</p>
<h2 id="ECMAScript"><a href="#ECMAScript" class="headerlink" title="ECMAScript"></a>ECMAScript</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ECMAScript 并不与任何具体浏览器进行绑定，浏览器对于 ECMAScript 而言只是一个宿主环境。ECMAScript 是一种描述，它定义了各种脚本语言的所有属性、方法和对象。其他脚本语言可以实现 ECMAScript 来作为功能的核心基准，JavaScript 就是这样以 ECMAScript 为核心（语法，类型等）。<br><img src='/uploads/EMCAScript.gif'> 其中每个浏览器都有其自己的 ECMAScript 接口的实现，然后在这个实现的基础之上又进行了个性化的扩展。当然还有其他实现并扩展了 ECMAScript 的语言，例如 Windows 脚本宿主（Windows Scripting Host, WSH）、Macromedia 在 Flash 和 Director MX 中的 ActionScript，以及 Nombas ScriptEase。</p>
<h2 id="DOM（文档对象模型）"><a href="#DOM（文档对象模型）" class="headerlink" title="DOM（文档对象模型）"></a>DOM（文档对象模型）</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DOM（文档对象模型）是 HTML 和 XML 的应用程序接口（API）。DOM 将把整个页面规划成由节点层级构成的文档。HTML 或 XML 页面的每个部分都是一个节点的衍生物。如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span> HTML Page <span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>hello MaxSoft<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>将以上代码用DOM绘制成一个节点层级图：<img src="/uploads/domtree.jpg">DOM 通过创建树来表示文档，从而使开发者对文档的内容和结构具有相对较容易的控制程度。用 DOM API 可以进行删除、添加和替换DOM的各个节点。<br>HTML DOM 教程移步： <a href="http://www.w3school.com.cn/htmldom/index.asp" target="_blank" rel="noopener">HTML DOM</a><br>XML DOM 教程移步： <a href="http://www.w3school.com.cn/xmldom/index.asp" target="_blank" rel="noopener">XML DOM</a></p>
<h2 id="BOM（浏览器对象模型）"><a href="#BOM（浏览器对象模型）" class="headerlink" title="BOM（浏览器对象模型）"></a>BOM（浏览器对象模型）</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BOM（浏览器对象模型），可以对浏览器窗口进行访问和操作。使用 BOM，开发者可以移动窗口、改变状态栏中的文本以及执行其他与页面内容不直接相关的动作。BOM只是 JavaScript 的一个部分，没有任何相关的标准。BOM 主要处理浏览器窗口和框架，不过通常浏览器特定的 JavaScript 扩展都被看做 BOM 的一部分。由于没有相关的 BOM 标准，每种浏览器都有自己的 BOM 实现。<br>每个浏览器的实现都离不开以下几个对象：<br>1&gt;<font color=red> Window </font>：该对象表示浏览器中打开的窗口。如果文档包含框架（frame 或 iframe 标签），浏览器会为 HTML 文档创建一个 window 对象，并为每个框架创建一个额外的 window 对象。<br>2&gt;<font color=red> Navigator </font>：该对象包含的属性描述了正在使用的浏览器。可以使用这些属性进行平台专用的配置。Navigator 对象的实例是唯一的，可以用 Window 对象的 navigator 属性来引用它。<br>3&gt;<font color=red> Screen </font>：每个 Window 对象的 screen 属性都引用一个 Screen 对象。Screen 对象中存放着有关显示浏览器屏幕的信息。JavaScript 程序将利用这些信息来优化它们的输出，以达到用户的显示要求。<br>4&gt;<font color=red> History </font>：该对象最初设计来表示窗口的浏览历史。但出于隐私方面的原因，History 对象不再允许脚本访问已经访问过的实际 URL。唯一保持使用的功能只有 back()、forward() 和 go() 方法。<br>5&gt;<font color=red> Location </font>：该对象存储在 Window 对象的 Location 属性中，表示那个窗口中当前显示的文档的 Web 地址。它的 href 属性存放的是文档的完整 URL，其他属性则分别描述了 URL 的各个部分。</p>
<p>参阅 <a href="http://www.w3school.com.cn/js/pro_js_implement.asp" target="_blank" rel="noopener">W3C School</a><br>嚓嚓，已经是凌晨2点半了，睡觉 …… 抽空再继续……</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/04/03/%E6%B5%85%E6%9E%90ExecutorService%E4%B8%AD%E7%9A%84submit%E4%B8%8Eexecute%E6%96%B9%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/apple-touch-icon-next.png">
      <meta itemprop="name" content="maxsoft">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MaxSoft">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2015/04/03/%E6%B5%85%E6%9E%90ExecutorService%E4%B8%AD%E7%9A%84submit%E4%B8%8Eexecute%E6%96%B9%E6%B3%95/" class="post-title-link" itemprop="url">浅析ExecutorService中的submit与execute方法</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表时间</span>

              <time title="创建时间：2015-04-03 21:11:16" itemprop="dateCreated datePublished" datetime="2015-04-03T21:11:16+08:00">2015-04-03</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>
            </span>

          
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>879</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 昨天的代码中用到了一个线程处理器（ExecutorService），主要是用于发送邮件的一个业务场景。看到 ExecutorService 中提供的 submit() 和 execute() 方法进行了一下简单的源码分析。</p>
<h2 id="submit-方法"><a href="#submit-方法" class="headerlink" title="submit() 方法"></a>submit() 方法</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 该方法的参数有所不同，源码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;T&gt; <span class="function">Future&lt;T&gt; <span class="title">submit</span><span class="params">(Callable&lt;T&gt; task)</span></span>;</span><br><span class="line"></span><br><span class="line">&lt;T&gt; <span class="function">Future&lt;T&gt; <span class="title">submit</span><span class="params">(Runnable task, T result)</span></span>;</span><br><span class="line"></span><br><span class="line">Future&lt;?&gt; submit(Runnable task);</span><br></pre></td></tr></table></figure>
<p>通过上述源码我们可以看到在 submit(…) 方法中既可以接收 Callable 的实现类，也可以接收 Runnable 的实现类，同时还返回执行任务（ Callable , Runnable ）的结果。</p>
<h2 id="execute-方法"><a href="#execute-方法" class="headerlink" title="execute() 方法"></a>execute() 方法</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 该方法与上述的 submit(…) 有所不同，只能接收Runnable 实现类参数，源码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">execute</span><span class="params">(Runnable command)</span></span>;</span><br></pre></td></tr></table></figure>
<h2 id="使用示例"><a href="#使用示例" class="headerlink" title="使用示例"></a>使用示例</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MaxSoftTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Test_001</span><span class="params">()</span></span>&#123;</span><br><span class="line">        ExecutorService executorService = Executors.newSingleThreadExecutor();</span><br><span class="line">        executorService.execute(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                System.out.println(<span class="string">"-------------------------&gt;开始执行任务！"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/03/27/JUC%E5%8C%85%E4%B9%8B%20LinkedBlockingQueue%20%E8%A7%A3%E6%9E%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/apple-touch-icon-next.png">
      <meta itemprop="name" content="maxsoft">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MaxSoft">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2015/03/27/JUC%E5%8C%85%E4%B9%8B%20LinkedBlockingQueue%20%E8%A7%A3%E6%9E%90/" class="post-title-link" itemprop="url">JUC包之 LinkedBlockingQueue 解析</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表时间</span>

              <time title="创建时间：2015-03-27 20:17:16" itemprop="dateCreated datePublished" datetime="2015-03-27T20:17:16+08:00">2015-03-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>
            </span>

          
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>8.4k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>8 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>本文主要接上一篇继续介绍 Java 源码中 JUC 包中的链表阻塞队列（ LinkedBlockingQueue ） 。</p>
<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LinkedBlockingQueue 是一个基础链表的阻塞式可选的有界队列。该队列的元素遵循FIFO（先进先出）原则。 队列头是最长时间在队列中的元素。 队列的尾部是最短时间在队列中的元素。 新元素插入到队列尾部，队列检索操作获取队列头部的元素。 链接队列通常比基于阵列的队列具有更高的吞吐量，但在大多数并发应用程序中的可预测性能较差。<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;该链接阻塞式队列的大小默认是 Integer.MAX_VALUE ，其有参构造函数也可以指定容量的大小。</p>
<h2 id="源码分析"><a href="#源码分析" class="headerlink" title="源码分析"></a>源码分析</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LinkedBlockingQueue 和 ArrayBlockingQueue 一样，都继承自 AbstractQueue ，以及实现了 BlockingQueue 、Serializable 接口。通过 LinkedBlockingQueue 源码我们可以很直观的看到其底层的数据存储是以链表的形式进行的。部分源码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LinkedBlockingQueue</span>&lt;<span class="title">E</span>&gt; <span class="keyword">extends</span> <span class="title">AbstractQueue</span>&lt;<span class="title">E</span>&gt; <span class="keyword">implements</span> <span class="title">BlockingQueue</span>&lt;<span class="title">E</span>&gt;, <span class="title">java</span>.<span class="title">io</span>.<span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = -<span class="number">6903933977591709194L</span>;</span><br><span class="line">    <span class="comment">// 省略部分代码</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/*和Linked List 的实现一样，都是通过该静态类进行链表的阻塞式队列元素的存储*/</span></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span>&lt;<span class="title">E</span>&gt; </span>&#123;</span><br><span class="line">        E item; <span class="comment">//当前节点本省</span></span><br><span class="line"></span><br><span class="line">        Node&lt;E&gt; next; <span class="comment">//当前节点的下一个节点</span></span><br><span class="line"></span><br><span class="line">        Node(E x) &#123; item = x; &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span> capacity; </span><br><span class="line">    <span class="comment">// 链表阻塞式队列的最大容量，可以通过构造函数进行手动指定或使用默认值（Integer.MAX_VALUE）</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> AtomicInteger count = <span class="keyword">new</span> AtomicInteger(<span class="number">0</span>); </span><br><span class="line">    <span class="comment">// 当前链表阻塞队列的元素数量。注意：这里和 ArrayBlockingQueue 有很大的区别。</span></span><br><span class="line">    <span class="comment">// 因为在 ArrayBlockingQueue 中使用了一个 int 变量来记录 ArrayBlockingQueue </span></span><br><span class="line">    <span class="comment">// 数据数量，而对数据的操作（插入和取出）使用了同一个锁对象，所以在操作上不</span></span><br><span class="line">    <span class="comment">// 会出现线程的并发访问。而 LinkedBlockingQueue 中在操作数据（插入和取出）</span></span><br><span class="line">    <span class="comment">// 使用了不同的锁，所以在这个过程中会出现对 ArrayBlockingQueue 数据数量的并</span></span><br><span class="line">    <span class="comment">// 发修改，因此，LinkedBlockingQueue 使用了一个原子计数器来避免并发修改的线程安全问题；</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">transient</span> Node&lt;E&gt; head; <span class="comment">// 链表头，其元素总是为 null 即 head.item = null;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">transient</span> Node&lt;E&gt; last; <span class="comment">//链表尾，其下一个元素总是为 null 即 last.next = null;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> ReentrantLock takeLock = <span class="keyword">new</span> ReentrantLock();<span class="comment">// 获取数据的锁对象</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Condition notEmpty = takeLock.newCondition(); <span class="comment">//通过该 notEmpty 让从空队列中获取元素的线程处于等待状态</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> ReentrantLock putLock = <span class="keyword">new</span> ReentrantLock();<span class="comment">// 插入数据的锁对象</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Condition notFull = putLock.newCondition(); <span class="comment">//通过该 notFull 让从满队列（容量等于capacity）中插入元素的线程处于等待状态</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 省略部分代码</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LinkedBlockingQueue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>(Integer.MAX_VALUE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LinkedBlockingQueue</span><span class="params">(<span class="keyword">int</span> capacity)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (capacity &lt;= <span class="number">0</span>) <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException();</span><br><span class="line">        <span class="keyword">this</span>.capacity = capacity;</span><br><span class="line">        last = head = <span class="keyword">new</span> Node&lt;E&gt;(<span class="keyword">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LinkedBlockingQueue</span><span class="params">(Collection&lt;? extends E&gt; c)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>(Integer.MAX_VALUE);</span><br><span class="line">        <span class="keyword">final</span> ReentrantLock putLock = <span class="keyword">this</span>.putLock;</span><br><span class="line">        putLock.lock(); <span class="comment">// Never contended, but necessary for visibility</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">int</span> n = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (E e : c) &#123;</span><br><span class="line">                <span class="keyword">if</span> (e == <span class="keyword">null</span>)</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException();</span><br><span class="line">                <span class="keyword">if</span> (n == capacity)</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> IllegalStateException(<span class="string">"Queue full"</span>);</span><br><span class="line">                enqueue(<span class="keyword">new</span> Node&lt;E&gt;(e));</span><br><span class="line">                ++n;</span><br><span class="line">            &#125;</span><br><span class="line">            count.set(n);</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            putLock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 省略部分代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>通过上述的部分源码我们可以分别看到如下三个构造函数：<br>1· <font color=red>public LinkedBlockingQueue()</font>;<br>该构造函数默认初始的容量为Integer.MAX_VALUE;<br>2· <font color=red>public LinkedBlockingQueue(int capacity)</font>;<br>该构造函数指定了链表阻塞式队列的最大容量，且 capacity 要大于0，否则会抛出 IllegalArgumentException 异常；<br>3· <font color=red>public LinkedBlockingQueue(Collection&lt;? extends E&gt; c)</font>;<br>该构造函数初始化了链表阻塞式队列的数据，同时，也给定了该链表的最大容量为 Integer.MAX_VALUE；值的注意的是，在给定的元素集合对象不能为空，其中的元素也不能有 null 值否则会抛出 NullPointerException 异常，元素集合的容量必须小于或等于链表阻塞式队列的最大容量，否则会抛出 IllegalStateException 异常（链表已满）。<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;接下来我们继续分析 LinkedBlockingQueue 的相关操作方法，如下：<br>1· <font color=red>public void put(E e)</font>;<br>2· <font color=red>public boolean offer(E e, long timeout, TimeUnit unit)</font>;<br>3· <font color=red>public boolean offer(E e)</font>;<br>4· <font color=red>public E take()</font>;<br>5· <font color=red>public E poll(long timeout, TimeUnit unit)</font>;<br>6· <font color=red>public E poll()</font>;<br>7· <font color=red>public E peek()</font>;<br>8· <font color=red>public boolean remove(Object o)</font>;<br>这些方法中大致可以分为四种类型：<br>第一种为插入指定的元素到队列的尾部的方法（ put , offer）；<br>第二种为从队列的头部取出元素的方法（ take , poll ）；<br>第三种是获取头部元素的方法（peek）（注意：该方法不会导致链表的元素数量发生变化）；<br>第四种为移除队列中指定的元素的方法（ remove ）；<br>我们再来进一步深度的分析一下put以及take方法的实现过程，<br>put(E e) 方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">put</span><span class="params">(E e)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (e == <span class="keyword">null</span>) <span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException();</span><br><span class="line">    <span class="keyword">int</span> c = -<span class="number">1</span>;</span><br><span class="line">    Node&lt;E&gt; node = <span class="keyword">new</span> Node(e);</span><br><span class="line">    <span class="keyword">final</span> ReentrantLock putLock = <span class="keyword">this</span>.putLock;</span><br><span class="line">    <span class="keyword">final</span> AtomicInteger count = <span class="keyword">this</span>.count; </span><br><span class="line">    putLock.lockInterruptibly(); <span class="comment">// 获取非中断入队锁</span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (count.get() == capacity) &#123; <span class="comment">// 通过原子计数器来和初始容量进行比对，如果达到容量值，则put线程进入等待状态</span></span><br><span class="line">            notFull.await();</span><br><span class="line">        &#125;</span><br><span class="line">        enqueue(node); <span class="comment">// 执行入队操作</span></span><br><span class="line">        c = count.getAndIncrement(); <span class="comment">// 原子计数器进行计数操作</span></span><br><span class="line">        <span class="keyword">if</span> (c + <span class="number">1</span> &lt; capacity) <span class="comment">// 判断计数器值是否已经达到了最大容量值，否则唤醒入队线程继续插入操作</span></span><br><span class="line">            notFull.signal();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        putLock.unlock();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (c == <span class="number">0</span>)</span><br><span class="line">        signalNotEmpty();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>enqueue(Node<E> node) （入队）方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">enqueue</span><span class="params">(Node&lt;E&gt; node)</span> </span>&#123; <span class="comment">// 由于在其他的调用操作中增加了线程锁，所以这里就没有必要再增加线程锁了</span></span><br><span class="line">    <span class="comment">// assert putLock.isHeldByCurrentThread();</span></span><br><span class="line">    <span class="comment">// assert last.next == null;</span></span><br><span class="line">    last = last.next = node; <span class="comment">// 入队操作始终都是在队列的尾巴进行增加</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>take() 方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> E <span class="title">take</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">    E x;</span><br><span class="line">    <span class="keyword">int</span> c = -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">final</span> AtomicInteger count = <span class="keyword">this</span>.count;</span><br><span class="line">    <span class="keyword">final</span> ReentrantLock takeLock = <span class="keyword">this</span>.takeLock;</span><br><span class="line">    takeLock.lockInterruptibly(); <span class="comment">// 获取出队非中断锁</span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (count.get() == <span class="number">0</span>) &#123; <span class="comment">// 如果原子计数器的值为0，则将出队线程进行等待状态</span></span><br><span class="line">            notEmpty.await();</span><br><span class="line">        &#125;</span><br><span class="line">        x = dequeue(); <span class="comment">// 执行出队操作</span></span><br><span class="line">        c = count.getAndDecrement(); <span class="comment">// 原始计数器进行减一操作</span></span><br><span class="line">        <span class="keyword">if</span> (c &gt; <span class="number">1</span>) <span class="comment">// 如果原始计数器的值大于1 则唤醒其他出队线程，继续出队操作</span></span><br><span class="line">            notEmpty.signal();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        takeLock.unlock();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (c == capacity)</span><br><span class="line">        signalNotFull();</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>dequeue() （出队）方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> E <span class="title">dequeue</span><span class="params">()</span> </span>&#123; <span class="comment">// 由于在其他的调用操作中增加了线程锁，所以这里就没有必要再增加线程锁了</span></span><br><span class="line">    <span class="comment">// assert takeLock.isHeldByCurrentThread();</span></span><br><span class="line">    <span class="comment">// assert head.item == null;</span></span><br><span class="line">    Node&lt;E&gt; h = head;</span><br><span class="line">    Node&lt;E&gt; first = h.next;</span><br><span class="line">    h.next = h; <span class="comment">// help GC</span></span><br><span class="line">    head = first;</span><br><span class="line">    E x = first.item; <span class="comment">// 出队方法始终是在队列的头部进行元素获取</span></span><br><span class="line">    first.item = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>通过上述源码片段我们可以清晰的理解上述前俩中类型的元素操作过程，都是入队在尾部，出队在头部；<br>接下来我们继续分析相对比较特殊的俩个方法，分别是 peek ，remove(Object o) 方法：<br>peek() 方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> E <span class="title">peek</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (count.get() == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">final</span> ReentrantLock takeLock = <span class="keyword">this</span>.takeLock;</span><br><span class="line">    takeLock.lock();</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        Node&lt;E&gt; first = head.next; <span class="comment">// 注意：这里只是单纯的进行了一个引用处理，并没有把元素做出队处理</span></span><br><span class="line">        <span class="keyword">if</span> (first == <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> first.item;</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        takeLock.unlock();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>我们通过上述源码可以看到，peek 方法的特殊之处在于其并没有做出队操作，而是做了一个元素的引用操作；<br>remove(Object o) 方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">remove</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (o == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    fullyLock(); <span class="comment">// 获取入队锁以及出队锁</span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (Node&lt;E&gt; trail = head, p = trail.next;</span><br><span class="line">            p != <span class="keyword">null</span>;</span><br><span class="line">            trail = p, p = p.next) &#123;</span><br><span class="line">            <span class="keyword">if</span> (o.equals(p.item)) &#123; <span class="comment">// 对遍历的对象进行匹配</span></span><br><span class="line">                unlink(p, trail);</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        fullyUnlock();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fullyLock</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    putLock.lock();</span><br><span class="line">    takeLock.lock();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fullyUnlock</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    takeLock.unlock();</span><br><span class="line">    putLock.unlock();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">unlink</span><span class="params">(Node&lt;E&gt; p, Node&lt;E&gt; trail)</span> </span>&#123;</span><br><span class="line">    p.item = <span class="keyword">null</span>;</span><br><span class="line">    trail.next = p.next;</span><br><span class="line">    <span class="keyword">if</span> (last == p)</span><br><span class="line">        last = trail;</span><br><span class="line">    <span class="keyword">if</span> (count.getAndDecrement() == capacity)</span><br><span class="line">        notFull.signal();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>通过上述代码片段的分析，我们可以看到remove( Object )方法的特殊之处在于，每次操作之前都要进行获取入队锁和出队锁，然后才进行移除指定的元素并重新连接的操作。</p>
<h2 id="使用示例"><a href="#使用示例" class="headerlink" title="使用示例"></a>使用示例</h2><p>我们继续通过 LinkedBlockingQueue 来模拟生产者与消费者的过程，当生产者在指定容量的 LinkedBlockingQueue 生产产品，消费者就开始消费产品，如果生产过剩则生产者进入等待状态，待消费者消费后生产者再进行继续生产。如果消费者没有可消费产品，则进入等待状态，待生产者生产产品后继续消费。<br>产品（Product.java）代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.maxsoft.linkedblockingqueue;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Product</span> </span>&#123;</span><br><span class="line">	 <span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> String <span class="title">getProduct</span><span class="params">(<span class="keyword">int</span> index)</span></span>&#123;</span><br><span class="line">		 <span class="keyword">return</span> <span class="string">"产品"</span>+index;</span><br><span class="line">	 &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>消费者（Consumer.java）代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.maxsoft.linkedblockingqueue;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.LinkedBlockingQueue;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Consumer</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">	LinkedBlockingQueue&lt;String&gt; queue;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Consumer</span><span class="params">(LinkedBlockingQueue&lt;String&gt; queue)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.queue = queue;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">for</span>(;;)&#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				System.out.println(<span class="string">"-------------&gt;开始消费产品"</span>);</span><br><span class="line">				String take = queue.take();</span><br><span class="line">				Thread.sleep(<span class="keyword">new</span> Random().nextInt(<span class="number">1000</span>));</span><br><span class="line">				System.out.println(<span class="string">"=============&gt;结束消费："</span>+take);</span><br><span class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>生产者（Producer.java）代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.maxsoft.linkedblockingqueue;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.LinkedBlockingQueue;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Producer</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">	LinkedBlockingQueue&lt;String&gt; queue;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Producer</span><span class="params">(LinkedBlockingQueue&lt;String&gt; queue)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.queue = queue;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">for</span>(;;)&#123;</span><br><span class="line">			String product = Product.getProduct(<span class="keyword">new</span> Random().nextInt(<span class="number">10</span>));</span><br><span class="line">			System.out.println(<span class="string">"++++++++++++++++++&gt;开始生产：产品"</span> + product);</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				queue.put(<span class="string">"产品"</span>+product);</span><br><span class="line">				Thread.sleep(<span class="keyword">new</span> Random().nextInt(<span class="number">1000</span>));</span><br><span class="line">				System.out.println(<span class="string">"+=+=+=+=+=+=+=+=+=+=&gt;结束生产产品"</span> +product );</span><br><span class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>测试代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.maxsoft.linkedblockingqueue;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.LinkedBlockingQueue;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LinkedBlockingQueueTest</span> </span>&#123;</span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException</span>&#123;</span><br><span class="line">		LinkedBlockingQueue&lt;String&gt; queue = <span class="keyword">new</span> LinkedBlockingQueue&lt;String&gt;(<span class="number">10</span>);</span><br><span class="line">		<span class="keyword">new</span> Thread(<span class="keyword">new</span> Producer(queue)).start();</span><br><span class="line">		Thread.sleep(<span class="keyword">new</span> Random().nextInt(<span class="number">1000</span>));</span><br><span class="line">		<span class="keyword">new</span> Thread(<span class="keyword">new</span> Consumer(queue)).start();</span><br><span class="line">		Thread.sleep(<span class="number">50000</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>测试运行结果如下：<img src='/uploads/linkedblockingqueue_0.png' title="LinkedBlockingQueue 模拟生产者消费者示例"/></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/03/22/JUC%E5%8C%85%E4%B9%8B%20ArrayBlockingQueue%20%E8%A7%A3%E6%9E%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/apple-touch-icon-next.png">
      <meta itemprop="name" content="maxsoft">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MaxSoft">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2015/03/22/JUC%E5%8C%85%E4%B9%8B%20ArrayBlockingQueue%20%E8%A7%A3%E6%9E%90/" class="post-title-link" itemprop="url">JUC包之 ArrayBlockingQueue 解析</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表时间</span>

              <time title="创建时间：2015-03-22 20:47:10" itemprop="dateCreated datePublished" datetime="2015-03-22T20:47:10+08:00">2015-03-22</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>
            </span>

          
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>6.8k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>6 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>本文主要介绍 Java 源码中 JUC 包中的数组阻塞队列（ArrayBlockingQueue） 。</p>
<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ArrayBlockingQueue 是一个由数组支持的有界阻塞式队列，所以该队列的元素遵循「先进先出（First-in-First-out）」的原则。因此，队列头是最长时间在队列中的元素， 队列的尾部是最短时间在队列中的元素。 新元素插入到队列尾部，队列检索操作获取队列头部的元素。<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;由于有数组的支持，可以将其看作一个典型的「有界缓冲区」，其中一个固定容量的数组包含生产者插入的元素，并由消费者获取。 当然由于数组的特性决定了该阻塞队列一旦创建，其容量就不能被改变。 尝试将元素放入完整队列将导致操作阻塞; 尝试从一个空队列中取一个元素也会同样阻塞。<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;同时，该类支持订购等待生产者和消费者线程的可选公平策略。 默认情况下，这个顺序不能保证。 但是，将公平设置为true的队列可以按FIFO顺序授予线程访问权限。公平通常会降低吞吐量，但降低了可变性，避免了饥饿。</p>
<h2 id="源码分析"><a href="#源码分析" class="headerlink" title="源码分析"></a>源码分析</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ArrayBlockingQueue 继承自 AbstractQueue ，以及实现了 BlockingQueue 、Serializable 接口。由此，我们可以理解 ArrayBlockingQueue 间接的实现了 Queue 和 Collection 接口。 通过源码中的构造函数，我们可以非常清晰的看到 ArrayBlockingQueue 底层以数组的形式保存数据。部分源码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayBlockingQueue</span>&lt;<span class="title">E</span>&gt; <span class="keyword">extends</span> <span class="title">AbstractQueue</span>&lt;<span class="title">E</span>&gt; <span class="keyword">implements</span> <span class="title">BlockingQueue</span>&lt;<span class="title">E</span>&gt;, <span class="title">java</span>.<span class="title">io</span>.<span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="comment">//省略其他部分代码</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ArrayBlockingQueue</span><span class="params">(<span class="keyword">int</span> capacity)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>(capacity, <span class="keyword">false</span>); <span class="comment">//这里默认了线程访问策略为非公平策略</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ArrayBlockingQueue</span><span class="params">(<span class="keyword">int</span> capacity, <span class="keyword">boolean</span> fair)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (capacity &lt;= <span class="number">0</span>)  <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException();</span><br><span class="line">        <span class="keyword">this</span>.items = <span class="keyword">new</span> Object[capacity];</span><br><span class="line">        lock = <span class="keyword">new</span> ReentrantLock(fair); <span class="comment">//初始化多线程访问锁</span></span><br><span class="line">        notEmpty = lock.newCondition(); <span class="comment">//初始化获取数据的锁</span></span><br><span class="line">        notFull =  lock.newCondition(); <span class="comment">//初始化插入数据的锁</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ArrayBlockingQueue</span><span class="params">(<span class="keyword">int</span> capacity, <span class="keyword">boolean</span> fair, Collection&lt;? extends E&gt; c)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>(capacity, fair);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">final</span> ReentrantLock lock = <span class="keyword">this</span>.lock;</span><br><span class="line">        lock.lock(); <span class="comment">// 获取锁</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">for</span> (E e : c) &#123;</span><br><span class="line">                    checkNotNull(e); <span class="comment">//校验是否为空</span></span><br><span class="line">                    items[i++] = e;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (ArrayIndexOutOfBoundsException ex) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException();</span><br><span class="line">            &#125;</span><br><span class="line">            count = i;</span><br><span class="line">            putIndex = (i == capacity) ? <span class="number">0</span> : i;</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            lock.unlock(); <span class="comment">//释放锁</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//省略其他部分代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上述源码中的三个构造函数分别如下：<br>1· <font color=red>public ArrayBlockingQueue(int capacity);</font><br>该构造函数只是初始化了一个指定容量的数组阻塞式队列，线程对其的访问策略为非公平策略（默认）。<br>2· <font color=red>public ArrayBlockingQueue(int capacity, boolean fair);</font><br>该构造函数在指定了数组阻塞队列的容量的同时也给定了一个可选线程访问策略标识（true：公平策略，按照FIFO的原则进行访问；false：非公平策略，线程对其的访问顺序不能保证遵循FIFO原则）。<br>3· <font color=red>public ArrayBlockingQueue(int capacity, boolean fair, Collection&lt;? extends E&gt; c);</font><br>该构造函数的功能就是在指定了容量以及线程访问策略标识外对其进行逐个赋值；这里值的注意的是，capacity 的值 必须是大于或等于 c 的容量大小，即 capactiy &gt;= c.size(); 否则会抛出数组下标越界的异常；c 不能为空且存储的数据也不能为空，否则会抛出空指针异常。<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 接下来我们可以看到 ArrayBlockingQueue 常用的操作方法包括如下方法：<br>1· <font color=red>public boolean add(E e) ;</font><br>2· <font color=red>public boolean offer(E e) ;</font><br>3· <font color=red>public boolean offer(E e, long timeout, TimeUnit unit);</font><br>4· <font color=red>public boolean put(E e) ;</font><br>5· <font color=red>public boolean remove(Object o);</font><br>6· <font color=red>public E poll();</font><br>7· <font color=red>public E poll(long timeout, TimeUnit unit);</font><br>8· <font color=red>public E take();</font><br>9· <font color=red>public E peek();</font><br>其中 add(E e)，offer(E e)，offer(E e, long timeout, TimeUnit unit)，put(E e) 是插入数据的操作，remove(Object o)，poll()，take()，poll(long timeout, TimeUnit unit)，peek() 是取出数据的操作。<br><font color=red><b>add(E e)</b></font>方法体中调用了offer方法，当Queue已经达到容量时，会抛出一个异常，而不会阻塞，代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E e)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (offer(e))</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalStateException(<span class="string">"Queue full"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><font color=red><b>offer(E e), offer(E e, long timeout, TimeUnit unit)</b></font>方法当Queue已经达到容量时，返回 false ，而不会阻塞，代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">offer</span><span class="params">(E e)</span> </span>&#123;</span><br><span class="line">    checkNotNull(e);</span><br><span class="line">    <span class="keyword">final</span> ReentrantLock lock = <span class="keyword">this</span>.lock;</span><br><span class="line">    lock.lock();</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (count == items.length)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            insert(e);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        lock.unlock();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">offer</span><span class="params">(E e, <span class="keyword">long</span> timeout, TimeUnit unit)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">    checkNotNull(e);</span><br><span class="line">    <span class="keyword">long</span> nanos = unit.toNanos(timeout);</span><br><span class="line">    <span class="keyword">final</span> ReentrantLock lock = <span class="keyword">this</span>.lock;</span><br><span class="line">    lock.lockInterruptibly(); <span class="comment">//线程非中断获取锁，如果线程状态为中断状态，则抛出 InterruptedException 异常;</span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (count == items.length) &#123; <span class="comment">//当线程从等待中被唤醒时，会比较当前队列是否已经满了</span></span><br><span class="line">            <span class="keyword">if</span> (nanos &lt;= <span class="number">0</span>)</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            nanos = notFull.awaitNanos(nanos);</span><br><span class="line">        &#125;</span><br><span class="line">        insert(e);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        lock.unlock(); <span class="comment">//释放锁</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><font color=red><b>put(E e)</b></font>方法当Queue已经达到容量时，会进入等待状态，只要不被中断，就会插入数据到队列中。会阻塞，可以响应中断。代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">put</span><span class="params">(E e)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">    checkNotNull(e);</span><br><span class="line">    <span class="keyword">final</span> ReentrantLock lock = <span class="keyword">this</span>.lock;</span><br><span class="line">    lock.lockInterruptibly();</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (count == items.length)</span><br><span class="line">            notFull.await();</span><br><span class="line">        insert(e);</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        lock.unlock();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>以上操作方法中 remove 和 add 相互对应；poll 与 offer 相互对应。take 和 put 相互对应。peek 方法比较特殊，前三个取出的方法，都会将元素从 Queue 的头部溢出，但是 peek 不会，实际上只是，获取队列头的元素。peek 方法也不会阻塞。当队列为空时，直接返回 null 。源代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> E <span class="title">peek</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">final</span> ReentrantLock lock = <span class="keyword">this</span>.lock;</span><br><span class="line">    lock.lock();</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> (count == <span class="number">0</span>) ? <span class="keyword">null</span> : itemAt(takeIndex);</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        lock.unlock();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">final</span> E <span class="title">itemAt</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.&lt;E&gt;cast(items[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">static</span> &lt;E&gt; <span class="function">E <span class="title">cast</span><span class="params">(Object item)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (E) item;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="使用示例"><a href="#使用示例" class="headerlink" title="使用示例"></a>使用示例</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;我们通过 ArrayBlockingQueue 来模拟生产者与消费者的过程，当生产者在指定容量的 ArrayBlockingQueue 生产产品，消费者就开始消费产品，如果生产过剩则生产者进入等待状态，待消费者消费后生产者再进行继续生产。如果消费者没有可消费产品，则进入等待状态，待生产者生产产品后继续消费。</p>
<p>示例代码：<br>（产品）Product.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.maxsoft.arrayblockingqueue;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Product</span> </span>&#123;</span><br><span class="line">	 <span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> String <span class="title">getProduct</span><span class="params">(<span class="keyword">int</span> index)</span></span>&#123;</span><br><span class="line">		 <span class="keyword">return</span> <span class="string">"产品"</span>+index;</span><br><span class="line">	 &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>（生产者）Producer.java </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.maxsoft.arrayblockingqueue;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ArrayBlockingQueue;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Producer</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> ArrayBlockingQueue&lt;String&gt; queue;</span><br><span class="line">    <span class="keyword">private</span> Random random = <span class="keyword">new</span> Random();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Producer</span><span class="params">(ArrayBlockingQueue&lt;String&gt; queue)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.queue = queue;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(;;)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                String product = Product.getProduct(random.nextInt(<span class="number">20</span>));</span><br><span class="line">                System.out.println(Thread.currentThread().getName()+<span class="string">"-----&gt;开始生产： "</span> + product);</span><br><span class="line">                Thread.sleep(random.nextInt(<span class="number">500</span>));</span><br><span class="line">                System.out.println(Thread.currentThread().getName()+<span class="string">"=====&gt;结束成产："</span> + product);</span><br><span class="line">                queue.put(product);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>（消费者）Consumer.java </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.maxsoft.arrayblockingqueue;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ArrayBlockingQueue;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Consumer</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> ArrayBlockingQueue&lt;String&gt; queue;</span><br><span class="line">	<span class="keyword">private</span> Random random = <span class="keyword">new</span> Random();</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Consumer</span><span class="params">(ArrayBlockingQueue&lt;String&gt; queue)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.queue = queue;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">for</span>(;;)&#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				String take = queue.take();</span><br><span class="line">				System.out.println(Thread.currentThread().getName()+<span class="string">"----------&gt;开始消费产品："</span> + take);</span><br><span class="line">				Thread.sleep(random.nextInt(<span class="number">10000</span>));</span><br><span class="line">				System.out.println(Thread.currentThread().getName()+<span class="string">"==========&gt;结束消费产品："</span> + take);</span><br><span class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>（测试代码）ArrayBlockingQueueTest.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.maxsoft.arrayblockingqueue;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ArrayBlockingQueue;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayBlockingQueueTest</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> ArrayBlockingQueue&lt;String&gt; queue = <span class="keyword">new</span> ArrayBlockingQueue&lt;String&gt;(<span class="number">3</span>,<span class="keyword">true</span>);</span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">new</span> Thread(<span class="keyword">new</span> Producer(queue)).start();</span><br><span class="line">		<span class="keyword">new</span> Thread(<span class="keyword">new</span> Consumer(queue)).start();</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			Thread.sleep(<span class="number">50000</span>);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>测试运行结果如下：<img src="/uploads/array_blocking_queue_.png" title="生产者与消费者运行结果" />通过上述示例我们可以理解，在使用 ArrayBlockingQueue 时要依据不同的应用场景选取合适的操作方法。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="maxsoft"
      src="/images/apple-touch-icon-next.png">
  <p class="site-author-name" itemprop="name">maxsoft</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">56</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">10</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">28</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/maxsoft-bj" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;maxsoft-bj" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:zylwlh810@163.com" title="E-Mail → mailto:zylwlh810@163.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">maxsoft</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
      <span class="post-meta-item-text">站点总字数：</span>
    <span title="站点总字数">318k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">4:49</span>
</div>

        








      </div>
    </footer>
  </div>

  
  
  <script color='0,0,255' opacity='0.5' zIndex='-1' count='99' src="//cdn.jsdelivr.net/gh/theme-next/theme-next-canvas-nest@latest/canvas-nest.min.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>




  















  

  
  <script src="//cdn.jsdelivr.net/npm/quicklink@1/dist/quicklink.umd.js"></script>
  <script>
      window.addEventListener('load', () => {
      quicklink({
        timeout: 3000,
        priority: true,
        ignores: [uri => uri.includes('#'),uri => uri == 'http://yoursite.com/page/2/',]
      });
      });
  </script>

</body>
</html>
